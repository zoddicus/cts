{"version":3,"file":"uncapturederror.spec.js","names":["description","makeTestGroup","kGeneratableErrorScopeFilters","ErrorTest","g","test","desc","params","u","combine","fn","t","errorType","uncapturedErrorEvent","expectUncapturedError","generateError","expect","isInstanceOfError","error","unimplemented"],"sources":["../../../../src/webgpu/api/operation/uncapturederror.spec.ts"],"sourcesContent":["export const description = `\nTests for GPUDevice.onuncapturederror.\n`;\n\nimport { makeTestGroup } from '../../../common/framework/test_group.js';\nimport { kGeneratableErrorScopeFilters } from '../../capability_info.js';\nimport { ErrorTest } from '../../error_test.js';\n\nexport const g = makeTestGroup(ErrorTest);\n\ng.test('iff_uncaptured')\n  .desc(\n    `{validation, out-of-memory} error should fire uncapturederror iff not captured by a scope.`\n  )\n  .params(u => u.combine('errorType', kGeneratableErrorScopeFilters))\n  .fn(async t => {\n    const { errorType } = t.params;\n    const uncapturedErrorEvent = await t.expectUncapturedError(() => {\n      t.generateError(errorType);\n    });\n    t.expect(t.isInstanceOfError(errorType, uncapturedErrorEvent.error));\n  });\n\ng.test('only_original_device_is_event_target')\n  .desc(\n    `Original GPUDevice objects are EventTargets and have onuncapturederror, but\ndeserialized GPUDevices do not.`\n  )\n  .unimplemented();\n\ng.test('uncapturederror_from_non_originating_thread')\n  .desc(\n    `Uncaptured errors on any thread should always propagate to the original GPUDevice object\n(since deserialized ones don't have EventTarget/onuncapturederror).`\n  )\n  .unimplemented();\n"],"mappings":";;GAAA,OAAO,MAAMA,WAAW,GAAI;AAC5B;AACA,CAAC,CAED,SAASC,aAAa,QAAQ,yCAAyC;AACvE,SAASC,6BAA6B,QAAQ,0BAA0B;AACxE,SAASC,SAAS,QAAQ,qBAAqB;;AAE/C,OAAO,MAAMC,CAAC,GAAGH,aAAa,CAACE,SAAS,CAAC;;AAEzCC,CAAC,CAACC,IAAI,CAAC,gBAAgB,CAAC;AACrBC,IAAI;EACF;AACH,CAAC;AACAC,MAAM,CAAC,CAAAC,CAAC,KAAIA,CAAC,CAACC,OAAO,CAAC,WAAW,EAAEP,6BAA6B,CAAC,CAAC;AAClEQ,EAAE,CAAC,OAAMC,CAAC,KAAI;EACb,MAAM,EAAEC,SAAS,CAAC,CAAC,GAAGD,CAAC,CAACJ,MAAM;EAC9B,MAAMM,oBAAoB,GAAG,MAAMF,CAAC,CAACG,qBAAqB,CAAC,MAAM;IAC/DH,CAAC,CAACI,aAAa,CAACH,SAAS,CAAC;EAC5B,CAAC,CAAC;EACFD,CAAC,CAACK,MAAM,CAACL,CAAC,CAACM,iBAAiB,CAACL,SAAS,EAAEC,oBAAoB,CAACK,KAAK,CAAC,CAAC;AACtE,CAAC,CAAC;;AAEJd,CAAC,CAACC,IAAI,CAAC,sCAAsC,CAAC;AAC3CC,IAAI;EACF;AACL;AACE,CAAC;AACAa,aAAa,CAAC,CAAC;;AAElBf,CAAC,CAACC,IAAI,CAAC,6CAA6C,CAAC;AAClDC,IAAI;EACF;AACL;AACE,CAAC;AACAa,aAAa,CAAC,CAAC"}