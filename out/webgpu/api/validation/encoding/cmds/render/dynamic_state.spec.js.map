{"version":3,"file":"dynamic_state.spec.js","names":["description","makeTestGroup","ValidationTest","F","testViewportCall","success","v","attachmentSize","width","height","depthOrArrayLayers","attachment","device","createTexture","format","size","usage","GPUTextureUsage","RENDER_ATTACHMENT","encoder","createCommandEncoder","pass","beginRenderPass","colorAttachments","view","createView","loadOp","storeOp","setViewport","x","y","w","h","minDepth","maxDepth","end","expectValidationError","finish","testScissorCall","s","shouldThrow","setScissorRect","createDummyRenderPassEncoder","g","test","desc","paramsSubcasesOnly","fn","t","params","u","combineWithParams","attachmentWidth","attachmentHeight","dx","dy","dw","dh","r","b","a","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","encoders","setBlendConstant","value","setStencilReference"],"sources":["../../../../../../../src/webgpu/api/validation/encoding/cmds/render/dynamic_state.spec.ts"],"sourcesContent":["export const description = `\nAPI validation tests for dynamic state commands (setViewport/ScissorRect/BlendColor...).\n\nTODO: ensure existing tests cover these notes. Note many of these may be operation tests instead.\n> - setViewport\n>     - {x, y} = {0, invalid values if any}\n>     - {width, height, minDepth, maxDepth} = {\n>         - least possible value that's valid\n>         - greatest possible negative value that's invalid\n>         - greatest possible positive value that's valid\n>         - least possible positive value that's invalid if any\n>         - }\n>     - minDepth {<, =, >} maxDepth\n> - setScissorRect\n>     - {width, height} = 0\n>     - {x+width, y+height} = attachment size + 1\n> - setBlendConstant\n>     - color {slightly, very} out of range\n>     - used with a simple pipeline that {does, doesn't} use it\n> - setStencilReference\n>     - {0, max}\n>     - used with a simple pipeline that {does, doesn't} use it\n`;\n\nimport { makeTestGroup } from '../../../../../../common/framework/test_group.js';\nimport { ValidationTest } from '../../../validation_test.js';\n\ninterface ViewportCall {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n  minDepth: number;\n  maxDepth: number;\n}\n\ninterface ScissorCall {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n}\n\nclass F extends ValidationTest {\n  testViewportCall(\n    success: boolean,\n    v: ViewportCall,\n    attachmentSize: GPUExtent3D = { width: 1, height: 1, depthOrArrayLayers: 1 }\n  ) {\n    const attachment = this.device.createTexture({\n      format: 'rgba8unorm',\n      size: attachmentSize,\n      usage: GPUTextureUsage.RENDER_ATTACHMENT,\n    });\n\n    const encoder = this.device.createCommandEncoder();\n    const pass = encoder.beginRenderPass({\n      colorAttachments: [\n        {\n          view: attachment.createView(),\n          loadOp: 'load',\n          storeOp: 'store',\n        },\n      ],\n    });\n    pass.setViewport(v.x, v.y, v.w, v.h, v.minDepth, v.maxDepth);\n    pass.end();\n\n    this.expectValidationError(() => {\n      encoder.finish();\n    }, !success);\n  }\n\n  testScissorCall(\n    success: boolean | 'type-error',\n    s: ScissorCall,\n    attachmentSize: GPUExtent3D = { width: 1, height: 1, depthOrArrayLayers: 1 }\n  ) {\n    const attachment = this.device.createTexture({\n      format: 'rgba8unorm',\n      size: attachmentSize,\n      usage: GPUTextureUsage.RENDER_ATTACHMENT,\n    });\n\n    const encoder = this.device.createCommandEncoder();\n    const pass = encoder.beginRenderPass({\n      colorAttachments: [\n        {\n          view: attachment.createView(),\n          loadOp: 'load',\n          storeOp: 'store',\n        },\n      ],\n    });\n    if (success === 'type-error') {\n      this.shouldThrow('TypeError', () => {\n        pass.setScissorRect(s.x, s.y, s.w, s.h);\n      });\n    } else {\n      pass.setScissorRect(s.x, s.y, s.w, s.h);\n      pass.end();\n\n      this.expectValidationError(() => {\n        encoder.finish();\n      }, !success);\n    }\n  }\n\n  createDummyRenderPassEncoder(): { encoder: GPUCommandEncoder; pass: GPURenderPassEncoder } {\n    const attachment = this.device.createTexture({\n      format: 'rgba8unorm',\n      size: [1, 1, 1],\n      usage: GPUTextureUsage.RENDER_ATTACHMENT,\n    });\n\n    const encoder = this.device.createCommandEncoder();\n    const pass = encoder.beginRenderPass({\n      colorAttachments: [\n        {\n          view: attachment.createView(),\n          loadOp: 'load',\n          storeOp: 'store',\n        },\n      ],\n    });\n\n    return { encoder, pass };\n  }\n}\n\nexport const g = makeTestGroup(F);\n\ng.test('setViewport,x_y_width_height_nonnegative')\n  .desc(\n    `Test that the parameters of setViewport to define the box must be non-negative.\n\nTODO Test -0 (it should be valid) but can't be tested because the harness complains about duplicate parameters.\nTODO Test the first value smaller than -0`\n  )\n  .paramsSubcasesOnly([\n    // Control case: everything to 0 is ok, covers the empty viewport case.\n    { x: 0, y: 0, w: 0, h: 0 },\n\n    // Test -1\n    { x: -1, y: 0, w: 0, h: 0 },\n    { x: 0, y: -1, w: 0, h: 0 },\n    { x: 0, y: 0, w: -1, h: 0 },\n    { x: 0, y: 0, w: 0, h: -1 },\n  ])\n  .fn(t => {\n    const { x, y, w, h } = t.params;\n    const success = x >= 0 && y >= 0 && w >= 0 && h >= 0;\n    t.testViewportCall(success, { x, y, w, h, minDepth: 0, maxDepth: 1 });\n  });\n\ng.test('setViewport,xy_rect_contained_in_attachment')\n  .desc(\n    'Test that the rectangle defined by x, y, width, height must be contained in the attachments'\n  )\n  .paramsSubcasesOnly(u =>\n    u\n      .combineWithParams([\n        { attachmentWidth: 3, attachmentHeight: 5 },\n        { attachmentWidth: 5, attachmentHeight: 3 },\n        { attachmentWidth: 1024, attachmentHeight: 1 },\n        { attachmentWidth: 1, attachmentHeight: 1024 },\n      ])\n      .combineWithParams([\n        // Control case: a full viewport is valid.\n        { dx: 0, dy: 0, dw: 0, dh: 0 },\n\n        // Other valid cases with a partial viewport.\n        { dx: 1, dy: 0, dw: -1, dh: 0 },\n        { dx: 0, dy: 1, dw: 0, dh: -1 },\n        { dx: 0, dy: 0, dw: -1, dh: 0 },\n        { dx: 0, dy: 0, dw: 0, dh: -1 },\n\n        // Test with a small value that causes the viewport to go outside the attachment.\n        { dx: 1, dy: 0, dw: 0, dh: 0 },\n        { dx: 0, dy: 1, dw: 0, dh: 0 },\n        { dx: 0, dy: 0, dw: 1, dh: 0 },\n        { dx: 0, dy: 0, dw: 0, dh: 1 },\n      ])\n  )\n  .fn(t => {\n    const { attachmentWidth, attachmentHeight, dx, dy, dw, dh } = t.params;\n    const x = dx;\n    const y = dy;\n    const w = attachmentWidth + dw;\n    const h = attachmentWidth + dh;\n\n    const success = x + w <= attachmentWidth && y + h <= attachmentHeight;\n    t.testViewportCall(\n      success,\n      { x, y, w, h, minDepth: 0, maxDepth: 1 },\n      { width: attachmentWidth, height: attachmentHeight, depthOrArrayLayers: 1 }\n    );\n  });\n\ng.test('setViewport,depth_rangeAndOrder')\n  .desc('Test that 0 <= minDepth <= maxDepth <= 1')\n  .paramsSubcasesOnly([\n    // Success cases\n    { minDepth: 0, maxDepth: 1 },\n    { minDepth: -0, maxDepth: -0 },\n    { minDepth: 1, maxDepth: 1 },\n    { minDepth: 0.3, maxDepth: 0.7 },\n    { minDepth: 0.7, maxDepth: 0.7 },\n    { minDepth: 0.3, maxDepth: 0.3 },\n\n    // Invalid cases\n    { minDepth: -0.1, maxDepth: 1 },\n    { minDepth: 0, maxDepth: 1.1 },\n    { minDepth: 0.5, maxDepth: 0.49999 },\n  ])\n  .fn(t => {\n    const { minDepth, maxDepth } = t.params;\n    const success =\n      0 <= minDepth && minDepth <= 1 && 0 <= maxDepth && maxDepth <= 1 && minDepth <= maxDepth;\n    t.testViewportCall(success, { x: 0, y: 0, w: 1, h: 1, minDepth, maxDepth });\n  });\n\ng.test('setScissorRect,x_y_width_height_nonnegative')\n  .desc(\n    `Test that the parameters of setScissorRect to define the box must be non-negative or a TypeError is thrown.\n\nTODO Test -0 (it should be valid) but can't be tested because the harness complains about duplicate parameters.\nTODO Test the first value smaller than -0`\n  )\n  .paramsSubcasesOnly([\n    // Control case: everything to 0 is ok, covers the empty scissor case.\n    { x: 0, y: 0, w: 0, h: 0 },\n\n    // Test -1\n    { x: -1, y: 0, w: 0, h: 0 },\n    { x: 0, y: -1, w: 0, h: 0 },\n    { x: 0, y: 0, w: -1, h: 0 },\n    { x: 0, y: 0, w: 0, h: -1 },\n  ])\n  .fn(t => {\n    const { x, y, w, h } = t.params;\n    const success = x >= 0 && y >= 0 && w >= 0 && h >= 0;\n    t.testScissorCall(success ? true : 'type-error', { x, y, w, h });\n  });\n\ng.test('setScissorRect,xy_rect_contained_in_attachment')\n  .desc(\n    'Test that the rectangle defined by x, y, width, height must be contained in the attachments'\n  )\n  .paramsSubcasesOnly(u =>\n    u\n      .combineWithParams([\n        { attachmentWidth: 3, attachmentHeight: 5 },\n        { attachmentWidth: 5, attachmentHeight: 3 },\n        { attachmentWidth: 1024, attachmentHeight: 1 },\n        { attachmentWidth: 1, attachmentHeight: 1024 },\n      ])\n      .combineWithParams([\n        // Control case: a full scissor is valid.\n        { dx: 0, dy: 0, dw: 0, dh: 0 },\n\n        // Other valid cases with a partial scissor.\n        { dx: 1, dy: 0, dw: -1, dh: 0 },\n        { dx: 0, dy: 1, dw: 0, dh: -1 },\n        { dx: 0, dy: 0, dw: -1, dh: 0 },\n        { dx: 0, dy: 0, dw: 0, dh: -1 },\n\n        // Test with a small value that causes the scissor to go outside the attachment.\n        { dx: 1, dy: 0, dw: 0, dh: 0 },\n        { dx: 0, dy: 1, dw: 0, dh: 0 },\n        { dx: 0, dy: 0, dw: 1, dh: 0 },\n        { dx: 0, dy: 0, dw: 0, dh: 1 },\n      ])\n  )\n  .fn(t => {\n    const { attachmentWidth, attachmentHeight, dx, dy, dw, dh } = t.params;\n    const x = dx;\n    const y = dy;\n    const w = attachmentWidth + dw;\n    const h = attachmentWidth + dh;\n\n    const success = x + w <= attachmentWidth && y + h <= attachmentHeight;\n    t.testScissorCall(\n      success,\n      { x, y, w, h },\n      { width: attachmentWidth, height: attachmentHeight, depthOrArrayLayers: 1 }\n    );\n  });\n\ng.test('setBlendConstant')\n  .desc('Test that almost any color value is valid for setBlendConstant')\n  .paramsSubcasesOnly([\n    { r: 1.0, g: 1.0, b: 1.0, a: 1.0 },\n    { r: -1.0, g: -1.0, b: -1.0, a: -1.0 },\n    { r: Number.MAX_SAFE_INTEGER, g: Number.MIN_SAFE_INTEGER, b: -0, a: 100000 },\n  ])\n  .fn(t => {\n    const { r, g, b, a } = t.params;\n    const encoders = t.createDummyRenderPassEncoder();\n    encoders.pass.setBlendConstant({ r, g, b, a });\n    encoders.pass.end();\n    encoders.encoder.finish();\n  });\n\ng.test('setStencilReference')\n  .desc('Test that almost any stencil reference value is valid for setStencilReference')\n  .paramsSubcasesOnly([\n    { value: 1 }, //\n    { value: 0 },\n    { value: 1000 },\n    { value: 0xffffffff },\n  ])\n  .fn(t => {\n    const { value } = t.params;\n    const encoders = t.createDummyRenderPassEncoder();\n    encoders.pass.setStencilReference(value);\n    encoders.pass.end();\n    encoders.encoder.finish();\n  });\n"],"mappings":";;GAAA,OAAO,MAAMA,WAAW,GAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,SAASC,aAAa,QAAQ,kDAAkD;AAChF,SAASC,cAAc,QAAQ,6BAA6B;;;;;;;;;;;;;;;;;;AAkB5D,MAAMC,CAAC,SAASD,cAAc,CAAC;EAC7BE,gBAAgBA;EACdC,OAAgB;EAChBC,CAAe;EACfC,cAA2B,GAAG,EAAEC,KAAK,EAAE,CAAC,EAAEC,MAAM,EAAE,CAAC,EAAEC,kBAAkB,EAAE,CAAC,CAAC,CAAC;EAC5E;IACA,MAAMC,UAAU,GAAG,IAAI,CAACC,MAAM,CAACC,aAAa,CAAC;MAC3CC,MAAM,EAAE,YAAY;MACpBC,IAAI,EAAER,cAAc;MACpBS,KAAK,EAAEC,eAAe,CAACC;IACzB,CAAC,CAAC;;IAEF,MAAMC,OAAO,GAAG,IAAI,CAACP,MAAM,CAACQ,oBAAoB,CAAC,CAAC;IAClD,MAAMC,IAAI,GAAGF,OAAO,CAACG,eAAe,CAAC;MACnCC,gBAAgB,EAAE;MAChB;QACEC,IAAI,EAAEb,UAAU,CAACc,UAAU,CAAC,CAAC;QAC7BC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;MACX,CAAC;;IAEL,CAAC,CAAC;IACFN,IAAI,CAACO,WAAW,CAACtB,CAAC,CAACuB,CAAC,EAAEvB,CAAC,CAACwB,CAAC,EAAExB,CAAC,CAACyB,CAAC,EAAEzB,CAAC,CAAC0B,CAAC,EAAE1B,CAAC,CAAC2B,QAAQ,EAAE3B,CAAC,CAAC4B,QAAQ,CAAC;IAC5Db,IAAI,CAACc,GAAG,CAAC,CAAC;;IAEV,IAAI,CAACC,qBAAqB,CAAC,MAAM;MAC/BjB,OAAO,CAACkB,MAAM,CAAC,CAAC;IAClB,CAAC,EAAE,CAAChC,OAAO,CAAC;EACd;;EAEAiC,eAAeA;EACbjC,OAA+B;EAC/BkC,CAAc;EACdhC,cAA2B,GAAG,EAAEC,KAAK,EAAE,CAAC,EAAEC,MAAM,EAAE,CAAC,EAAEC,kBAAkB,EAAE,CAAC,CAAC,CAAC;EAC5E;IACA,MAAMC,UAAU,GAAG,IAAI,CAACC,MAAM,CAACC,aAAa,CAAC;MAC3CC,MAAM,EAAE,YAAY;MACpBC,IAAI,EAAER,cAAc;MACpBS,KAAK,EAAEC,eAAe,CAACC;IACzB,CAAC,CAAC;;IAEF,MAAMC,OAAO,GAAG,IAAI,CAACP,MAAM,CAACQ,oBAAoB,CAAC,CAAC;IAClD,MAAMC,IAAI,GAAGF,OAAO,CAACG,eAAe,CAAC;MACnCC,gBAAgB,EAAE;MAChB;QACEC,IAAI,EAAEb,UAAU,CAACc,UAAU,CAAC,CAAC;QAC7BC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;MACX,CAAC;;IAEL,CAAC,CAAC;IACF,IAAItB,OAAO,KAAK,YAAY,EAAE;MAC5B,IAAI,CAACmC,WAAW,CAAC,WAAW,EAAE,MAAM;QAClCnB,IAAI,CAACoB,cAAc,CAACF,CAAC,CAACV,CAAC,EAAEU,CAAC,CAACT,CAAC,EAAES,CAAC,CAACR,CAAC,EAAEQ,CAAC,CAACP,CAAC,CAAC;MACzC,CAAC,CAAC;IACJ,CAAC,MAAM;MACLX,IAAI,CAACoB,cAAc,CAACF,CAAC,CAACV,CAAC,EAAEU,CAAC,CAACT,CAAC,EAAES,CAAC,CAACR,CAAC,EAAEQ,CAAC,CAACP,CAAC,CAAC;MACvCX,IAAI,CAACc,GAAG,CAAC,CAAC;;MAEV,IAAI,CAACC,qBAAqB,CAAC,MAAM;QAC/BjB,OAAO,CAACkB,MAAM,CAAC,CAAC;MAClB,CAAC,EAAE,CAAChC,OAAO,CAAC;IACd;EACF;;EAEAqC,4BAA4BA,CAAA,EAA+D;IACzF,MAAM/B,UAAU,GAAG,IAAI,CAACC,MAAM,CAACC,aAAa,CAAC;MAC3CC,MAAM,EAAE,YAAY;MACpBC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;MACfC,KAAK,EAAEC,eAAe,CAACC;IACzB,CAAC,CAAC;;IAEF,MAAMC,OAAO,GAAG,IAAI,CAACP,MAAM,CAACQ,oBAAoB,CAAC,CAAC;IAClD,MAAMC,IAAI,GAAGF,OAAO,CAACG,eAAe,CAAC;MACnCC,gBAAgB,EAAE;MAChB;QACEC,IAAI,EAAEb,UAAU,CAACc,UAAU,CAAC,CAAC;QAC7BC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;MACX,CAAC;;IAEL,CAAC,CAAC;;IAEF,OAAO,EAAER,OAAO,EAAEE,IAAI,CAAC,CAAC;EAC1B;AACF;;AAEA,OAAO,MAAMsB,CAAC,GAAG1C,aAAa,CAACE,CAAC,CAAC;;AAEjCwC,CAAC,CAACC,IAAI,CAAC,0CAA0C,CAAC;AAC/CC,IAAI;EACF;AACL;AACA;AACA;AACE,CAAC;AACAC,kBAAkB,CAAC;AAClB;AACA,EAAEjB,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC;;AAE1B;AACA,EAAEH,CAAC,EAAE,CAAC,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,EAAEH,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,EAAEH,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,EAAEH,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC5B,CAAC;AACDe,EAAE,CAAC,CAAAC,CAAC,KAAI;EACP,MAAM,EAAEnB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,CAAC,GAAGgB,CAAC,CAACC,MAAM;EAC/B,MAAM5C,OAAO,GAAGwB,CAAC,IAAI,CAAC,IAAIC,CAAC,IAAI,CAAC,IAAIC,CAAC,IAAI,CAAC,IAAIC,CAAC,IAAI,CAAC;EACpDgB,CAAC,CAAC5C,gBAAgB,CAACC,OAAO,EAAE,EAAEwB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,QAAQ,EAAE,CAAC,EAAEC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;AACvE,CAAC,CAAC;;AAEJS,CAAC,CAACC,IAAI,CAAC,6CAA6C,CAAC;AAClDC,IAAI;EACH;AACF,CAAC;AACAC,kBAAkB,CAAC,CAAAI,CAAC;AACnBA,CAAC;AACEC,iBAAiB,CAAC;AACjB,EAAEC,eAAe,EAAE,CAAC,EAAEC,gBAAgB,EAAE,CAAC,CAAC,CAAC;AAC3C,EAAED,eAAe,EAAE,CAAC,EAAEC,gBAAgB,EAAE,CAAC,CAAC,CAAC;AAC3C,EAAED,eAAe,EAAE,IAAI,EAAEC,gBAAgB,EAAE,CAAC,CAAC,CAAC;AAC9C,EAAED,eAAe,EAAE,CAAC,EAAEC,gBAAgB,EAAE,IAAI,CAAC,CAAC;AAC/C,CAAC;AACDF,iBAAiB,CAAC;AACjB;AACA,EAAEG,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;;AAE9B;AACA,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC/B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAC/B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC/B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;;AAE/B;AACA,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC9B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC9B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC9B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC/B;AACL,CAAC;AACAV,EAAE,CAAC,CAAAC,CAAC,KAAI;EACP,MAAM,EAAEI,eAAe,EAAEC,gBAAgB,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,CAAC,CAAC,GAAGT,CAAC,CAACC,MAAM;EACtE,MAAMpB,CAAC,GAAGyB,EAAE;EACZ,MAAMxB,CAAC,GAAGyB,EAAE;EACZ,MAAMxB,CAAC,GAAGqB,eAAe,GAAGI,EAAE;EAC9B,MAAMxB,CAAC,GAAGoB,eAAe,GAAGK,EAAE;;EAE9B,MAAMpD,OAAO,GAAGwB,CAAC,GAAGE,CAAC,IAAIqB,eAAe,IAAItB,CAAC,GAAGE,CAAC,IAAIqB,gBAAgB;EACrEL,CAAC,CAAC5C,gBAAgB;IAChBC,OAAO;IACP,EAAEwB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,QAAQ,EAAE,CAAC,EAAEC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACxC,EAAE1B,KAAK,EAAE4C,eAAe,EAAE3C,MAAM,EAAE4C,gBAAgB,EAAE3C,kBAAkB,EAAE,CAAC,CAAC;EAC5E,CAAC;AACH,CAAC,CAAC;;AAEJiC,CAAC,CAACC,IAAI,CAAC,iCAAiC,CAAC;AACtCC,IAAI,CAAC,0CAA0C,CAAC;AAChDC,kBAAkB,CAAC;AAClB;AACA,EAAEb,QAAQ,EAAE,CAAC,EAAEC,QAAQ,EAAE,CAAC,CAAC,CAAC;AAC5B,EAAED,QAAQ,EAAE,CAAC,CAAC,EAAEC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;AAC9B,EAAED,QAAQ,EAAE,CAAC,EAAEC,QAAQ,EAAE,CAAC,CAAC,CAAC;AAC5B,EAAED,QAAQ,EAAE,GAAG,EAAEC,QAAQ,EAAE,GAAG,CAAC,CAAC;AAChC,EAAED,QAAQ,EAAE,GAAG,EAAEC,QAAQ,EAAE,GAAG,CAAC,CAAC;AAChC,EAAED,QAAQ,EAAE,GAAG,EAAEC,QAAQ,EAAE,GAAG,CAAC,CAAC;;AAEhC;AACA,EAAED,QAAQ,EAAE,CAAC,GAAG,EAAEC,QAAQ,EAAE,CAAC,CAAC,CAAC;AAC/B,EAAED,QAAQ,EAAE,CAAC,EAAEC,QAAQ,EAAE,GAAG,CAAC,CAAC;AAC9B,EAAED,QAAQ,EAAE,GAAG,EAAEC,QAAQ,EAAE,OAAO,CAAC,CAAC;AACrC,CAAC;AACDa,EAAE,CAAC,CAAAC,CAAC,KAAI;EACP,MAAM,EAAEf,QAAQ,EAAEC,QAAQ,CAAC,CAAC,GAAGc,CAAC,CAACC,MAAM;EACvC,MAAM5C,OAAO;EACX,CAAC,IAAI4B,QAAQ,IAAIA,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAIC,QAAQ,IAAIA,QAAQ,IAAI,CAAC,IAAID,QAAQ,IAAIC,QAAQ;EAC1Fc,CAAC,CAAC5C,gBAAgB,CAACC,OAAO,EAAE,EAAEwB,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,QAAQ,EAAEC,QAAQ,CAAC,CAAC,CAAC;AAC7E,CAAC,CAAC;;AAEJS,CAAC,CAACC,IAAI,CAAC,6CAA6C,CAAC;AAClDC,IAAI;EACF;AACL;AACA;AACA;AACE,CAAC;AACAC,kBAAkB,CAAC;AAClB;AACA,EAAEjB,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC;;AAE1B;AACA,EAAEH,CAAC,EAAE,CAAC,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,EAAEH,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,EAAEH,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,EAAEH,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAEC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC5B,CAAC;AACDe,EAAE,CAAC,CAAAC,CAAC,KAAI;EACP,MAAM,EAAEnB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,CAAC,GAAGgB,CAAC,CAACC,MAAM;EAC/B,MAAM5C,OAAO,GAAGwB,CAAC,IAAI,CAAC,IAAIC,CAAC,IAAI,CAAC,IAAIC,CAAC,IAAI,CAAC,IAAIC,CAAC,IAAI,CAAC;EACpDgB,CAAC,CAACV,eAAe,CAACjC,OAAO,GAAG,IAAI,GAAG,YAAY,EAAE,EAAEwB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,CAAC,CAAC;AAClE,CAAC,CAAC;;AAEJW,CAAC,CAACC,IAAI,CAAC,gDAAgD,CAAC;AACrDC,IAAI;EACH;AACF,CAAC;AACAC,kBAAkB,CAAC,CAAAI,CAAC;AACnBA,CAAC;AACEC,iBAAiB,CAAC;AACjB,EAAEC,eAAe,EAAE,CAAC,EAAEC,gBAAgB,EAAE,CAAC,CAAC,CAAC;AAC3C,EAAED,eAAe,EAAE,CAAC,EAAEC,gBAAgB,EAAE,CAAC,CAAC,CAAC;AAC3C,EAAED,eAAe,EAAE,IAAI,EAAEC,gBAAgB,EAAE,CAAC,CAAC,CAAC;AAC9C,EAAED,eAAe,EAAE,CAAC,EAAEC,gBAAgB,EAAE,IAAI,CAAC,CAAC;AAC/C,CAAC;AACDF,iBAAiB,CAAC;AACjB;AACA,EAAEG,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;;AAE9B;AACA,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC/B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAC/B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC/B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;;AAE/B;AACA,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC9B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC9B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC9B,EAAEH,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,EAAEC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC/B;AACL,CAAC;AACAV,EAAE,CAAC,CAAAC,CAAC,KAAI;EACP,MAAM,EAAEI,eAAe,EAAEC,gBAAgB,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,CAAC,CAAC,GAAGT,CAAC,CAACC,MAAM;EACtE,MAAMpB,CAAC,GAAGyB,EAAE;EACZ,MAAMxB,CAAC,GAAGyB,EAAE;EACZ,MAAMxB,CAAC,GAAGqB,eAAe,GAAGI,EAAE;EAC9B,MAAMxB,CAAC,GAAGoB,eAAe,GAAGK,EAAE;;EAE9B,MAAMpD,OAAO,GAAGwB,CAAC,GAAGE,CAAC,IAAIqB,eAAe,IAAItB,CAAC,GAAGE,CAAC,IAAIqB,gBAAgB;EACrEL,CAAC,CAACV,eAAe;IACfjC,OAAO;IACP,EAAEwB,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,CAAC;IACd,EAAExB,KAAK,EAAE4C,eAAe,EAAE3C,MAAM,EAAE4C,gBAAgB,EAAE3C,kBAAkB,EAAE,CAAC,CAAC;EAC5E,CAAC;AACH,CAAC,CAAC;;AAEJiC,CAAC,CAACC,IAAI,CAAC,kBAAkB,CAAC;AACvBC,IAAI,CAAC,gEAAgE,CAAC;AACtEC,kBAAkB,CAAC;AAClB,EAAEY,CAAC,EAAE,GAAG,EAAEf,CAAC,EAAE,GAAG,EAAEgB,CAAC,EAAE,GAAG,EAAEC,CAAC,EAAE,GAAG,CAAC,CAAC;AAClC,EAAEF,CAAC,EAAE,CAAC,GAAG,EAAEf,CAAC,EAAE,CAAC,GAAG,EAAEgB,CAAC,EAAE,CAAC,GAAG,EAAEC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;AACtC,EAAEF,CAAC,EAAEG,MAAM,CAACC,gBAAgB,EAAEnB,CAAC,EAAEkB,MAAM,CAACE,gBAAgB,EAAEJ,CAAC,EAAE,CAAC,CAAC,EAAEC,CAAC,EAAE,MAAM,CAAC,CAAC;AAC7E,CAAC;AACDb,EAAE,CAAC,CAAAC,CAAC,KAAI;EACP,MAAM,EAAEU,CAAC,EAAEf,CAAC,EAAEgB,CAAC,EAAEC,CAAC,CAAC,CAAC,GAAGZ,CAAC,CAACC,MAAM;EAC/B,MAAMe,QAAQ,GAAGhB,CAAC,CAACN,4BAA4B,CAAC,CAAC;EACjDsB,QAAQ,CAAC3C,IAAI,CAAC4C,gBAAgB,CAAC,EAAEP,CAAC,EAAEf,CAAC,EAAEgB,CAAC,EAAEC,CAAC,CAAC,CAAC,CAAC;EAC9CI,QAAQ,CAAC3C,IAAI,CAACc,GAAG,CAAC,CAAC;EACnB6B,QAAQ,CAAC7C,OAAO,CAACkB,MAAM,CAAC,CAAC;AAC3B,CAAC,CAAC;;AAEJM,CAAC,CAACC,IAAI,CAAC,qBAAqB,CAAC;AAC1BC,IAAI,CAAC,+EAA+E,CAAC;AACrFC,kBAAkB,CAAC;AAClB,EAAEoB,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE;AACd,EAAEA,KAAK,EAAE,CAAC,CAAC,CAAC;AACZ,EAAEA,KAAK,EAAE,IAAI,CAAC,CAAC;AACf,EAAEA,KAAK,EAAE,UAAU,CAAC,CAAC;AACtB,CAAC;AACDnB,EAAE,CAAC,CAAAC,CAAC,KAAI;EACP,MAAM,EAAEkB,KAAK,CAAC,CAAC,GAAGlB,CAAC,CAACC,MAAM;EAC1B,MAAMe,QAAQ,GAAGhB,CAAC,CAACN,4BAA4B,CAAC,CAAC;EACjDsB,QAAQ,CAAC3C,IAAI,CAAC8C,mBAAmB,CAACD,KAAK,CAAC;EACxCF,QAAQ,CAAC3C,IAAI,CAACc,GAAG,CAAC,CAAC;EACnB6B,QAAQ,CAAC7C,OAAO,CAACkB,MAAM,CAAC,CAAC;AAC3B,CAAC,CAAC"}