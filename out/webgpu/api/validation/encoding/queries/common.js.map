{"version":3,"file":"common.js","names":["createQuerySetWithType","t","type","count","device","createQuerySet","beginRenderPassWithQuerySet","encoder","querySet","view","createTexture","format","size","width","height","depthOrArrayLayers","usage","GPUTextureUsage","RENDER_ATTACHMENT","createView","beginRenderPass","colorAttachments","clearValue","r","g","b","a","loadOp","storeOp","occlusionQuerySet"],"sources":["../../../../../../src/webgpu/api/validation/encoding/queries/common.ts"],"sourcesContent":["import { GPUTest } from '../../../../gpu_test.js';\n\nexport function createQuerySetWithType(\n  t: GPUTest,\n  type: GPUQueryType,\n  count: GPUSize32\n): GPUQuerySet {\n  return t.device.createQuerySet({\n    type,\n    count,\n  });\n}\n\nexport function beginRenderPassWithQuerySet(\n  t: GPUTest,\n  encoder: GPUCommandEncoder,\n  querySet?: GPUQuerySet\n): GPURenderPassEncoder {\n  const view = t.device\n    .createTexture({\n      format: 'rgba8unorm' as const,\n      size: { width: 16, height: 16, depthOrArrayLayers: 1 },\n      usage: GPUTextureUsage.RENDER_ATTACHMENT,\n    })\n    .createView();\n  return encoder.beginRenderPass({\n    colorAttachments: [\n      {\n        view,\n        clearValue: { r: 1.0, g: 0.0, b: 0.0, a: 1.0 },\n        loadOp: 'clear',\n        storeOp: 'store',\n      },\n    ],\n    occlusionQuerySet: querySet,\n  });\n}\n"],"mappings":";;GAEA,OAAO,SAASA,sBAAsBA;AACpCC,CAAU;AACVC,IAAkB;AAClBC,KAAgB;AACH;EACb,OAAOF,CAAC,CAACG,MAAM,CAACC,cAAc,CAAC;IAC7BH,IAAI;IACJC;EACF,CAAC,CAAC;AACJ;;AAEA,OAAO,SAASG,2BAA2BA;AACzCL,CAAU;AACVM,OAA0B;AAC1BC,QAAsB;AACA;EACtB,MAAMC,IAAI,GAAGR,CAAC,CAACG,MAAM;EAClBM,aAAa,CAAC;IACbC,MAAM,EAAE,YAAqB;IAC7BC,IAAI,EAAE,EAAEC,KAAK,EAAE,EAAE,EAAEC,MAAM,EAAE,EAAE,EAAEC,kBAAkB,EAAE,CAAC,CAAC,CAAC;IACtDC,KAAK,EAAEC,eAAe,CAACC;EACzB,CAAC,CAAC;EACDC,UAAU,CAAC,CAAC;EACf,OAAOZ,OAAO,CAACa,eAAe,CAAC;IAC7BC,gBAAgB,EAAE;IAChB;MACEZ,IAAI;MACJa,UAAU,EAAE,EAAEC,CAAC,EAAE,GAAG,EAAEC,CAAC,EAAE,GAAG,EAAEC,CAAC,EAAE,GAAG,EAAEC,CAAC,EAAE,GAAG,CAAC,CAAC;MAC9CC,MAAM,EAAE,OAAO;MACfC,OAAO,EAAE;IACX,CAAC,CACF;;IACDC,iBAAiB,EAAErB;EACrB,CAAC,CAAC;AACJ"}