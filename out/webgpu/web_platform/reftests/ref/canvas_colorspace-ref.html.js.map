{"version":3,"file":"canvas_colorspace-ref.html.js","names":["kUnitCaseParamsBuilder","kCanvasAlphaModes","kCanvasColorSpaces","kRGBAData","Uint8Array","width","length","createCanvas","colorSpace","canvas","document","createElement","height","context","getContext","imgData","getImageData","data","set","putImageData","body","appendChild","u","combine"],"sources":["../../../../../src/webgpu/web_platform/reftests/ref/canvas_colorspace-ref.html.ts"],"sourcesContent":["import { kUnitCaseParamsBuilder } from '../../../../common/framework/params_builder.js';\nimport { kCanvasAlphaModes, kCanvasColorSpaces } from '../../../capability_info.js';\n\n// prettier-ignore\nconst kRGBAData = new Uint8Array([\n  0, 255, 0, 255,\n  117, 251, 7, 255,\n  170, 35, 209, 255,\n  80, 150, 200, 255,\n]);\nconst width = kRGBAData.length / 4;\n\nfunction createCanvas(colorSpace: PredefinedColorSpace) {\n  const canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = 1;\n  const context = canvas.getContext('2d', {\n    colorSpace,\n  }) as CanvasRenderingContext2D;\n\n  const imgData = context.getImageData(0, 0, width, 1);\n  imgData.data.set(kRGBAData);\n  context.putImageData(imgData, 0, 0);\n\n  document.body.appendChild(canvas);\n}\n\nconst u = kUnitCaseParamsBuilder\n  .combine('alphaMode', kCanvasAlphaModes)\n  .combine('colorSpace', kCanvasColorSpaces)\n  .combine('creation', [\n    'canvas',\n    'transferControlToOffscreen',\n    'transferControlToOffscreenWorker',\n  ]);\n\n// Generate reference canvases for all combinations from the test.\n// We only need colorSpace to generate the correct reference.\nfor (const { colorSpace } of u) {\n  createCanvas(colorSpace);\n}\n"],"mappings":";AAAA;AAAA,GAAA,SAASA,sBAAsB,QAAQ,gDAAgD,CACvF,SAASC,iBAAiB,EAAEC,kBAAkB,QAAQ,6BAA6B;;AAGnF,MAAMC,SAAS,GAAG,IAAIC,UAAU,CAAC;AAC/B,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG;AACd,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG;AAChB,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG;AACjB,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAClB,CAAC;;AACF,MAAMC,KAAK,GAAGF,SAAS,CAACG,MAAM,GAAG,CAAC;;AAElC,SAASC,YAAY,CAACC,UAAgC,EAAE;EACtD,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;EAC/CF,MAAM,CAACJ,KAAK,GAAGA,KAAK;EACpBI,MAAM,CAACG,MAAM,GAAG,CAAC;EACjB,MAAMC,OAAO,GAAGJ,MAAM,CAACK,UAAU,CAAC,IAAI,EAAE;IACtCN;EACF,CAAC,CAA6B;;EAE9B,MAAMO,OAAO,GAAGF,OAAO,CAACG,YAAY,CAAC,CAAC,EAAE,CAAC,EAAEX,KAAK,EAAE,CAAC,CAAC;EACpDU,OAAO,CAACE,IAAI,CAACC,GAAG,CAACf,SAAS,CAAC;EAC3BU,OAAO,CAACM,YAAY,CAACJ,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;;EAEnCL,QAAQ,CAACU,IAAI,CAACC,WAAW,CAACZ,MAAM,CAAC;AACnC;;AAEA,MAAMa,CAAC,GAAGtB,sBAAsB;AAC7BuB,OAAO,CAAC,WAAW,EAAEtB,iBAAiB,CAAC;AACvCsB,OAAO,CAAC,YAAY,EAAErB,kBAAkB,CAAC;AACzCqB,OAAO,CAAC,UAAU,EAAE;AACnB,QAAQ;AACR,4BAA4B;AAC5B,kCAAkC,CACnC,CAAC;;;AAEJ;AACA;AACA,KAAK,MAAM,EAAEf,UAAU,CAAC,CAAC,IAAIc,CAAC,EAAE;EAC9Bf,YAAY,CAACC,UAAU,CAAC;AAC1B"}