{"version":3,"file":"compound.spec.js","names":["description","makeTestGroup","keysOf","ShaderValidationTest","g","kTests","missing_start","src","pass","missing_end","empty","semicolon","semicolons","decl","nested","test","desc","params","u","combine","fn","t","code","stmt","expectCompileResult"],"sources":["../../../../../src/webgpu/shader/validation/statement/compound.spec.ts"],"sourcesContent":["export const description = `Validation tests for compound statements`;\n\nimport { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { keysOf } from '../../../../common/util/data_tables.js';\nimport { ShaderValidationTest } from '../shader_validation_test.js';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\nconst kTests = {\n  missing_start: {\n    src: '}',\n    pass: false,\n  },\n  missing_end: {\n    src: '{',\n    pass: false,\n  },\n  empty: {\n    src: '{}',\n    pass: true,\n  },\n  semicolon: {\n    src: '{;}',\n    pass: true,\n  },\n  semicolons: {\n    src: '{;;}',\n    pass: true,\n  },\n  decl: {\n    src: '{const c = 1;}',\n    pass: true,\n  },\n  nested: {\n    src: '{ {} }',\n    pass: true,\n  },\n};\n\ng.test('parse')\n  .desc('Test that compound statments parse')\n  .params(u => u.combine('stmt', keysOf(kTests)))\n  .fn(t => {\n    const code = `\n@vertex\nfn vtx() -> @builtin(position) vec4f {\n  ${kTests[t.params.stmt].src}\n  return vec4f(1);\n}\n    `;\n    t.expectCompileResult(kTests[t.params.stmt].pass, code);\n  });\n"],"mappings":";;GAAA,OAAO,MAAMA,WAAW,GAAI,0CAAyC,CAErE,SAASC,aAAa,QAAQ,4CAA4C;AAC1E,SAASC,MAAM,QAAQ,wCAAwC;AAC/D,SAASC,oBAAoB,QAAQ,8BAA8B;;AAEnE,OAAO,MAAMC,CAAC,GAAGH,aAAa,CAACE,oBAAoB,CAAC;;AAEpD,MAAME,MAAM,GAAG;EACbC,aAAa,EAAE;IACbC,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE;EACR,CAAC;EACDC,WAAW,EAAE;IACXF,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE;EACR,CAAC;EACDE,KAAK,EAAE;IACLH,GAAG,EAAE,IAAI;IACTC,IAAI,EAAE;EACR,CAAC;EACDG,SAAS,EAAE;IACTJ,GAAG,EAAE,KAAK;IACVC,IAAI,EAAE;EACR,CAAC;EACDI,UAAU,EAAE;IACVL,GAAG,EAAE,MAAM;IACXC,IAAI,EAAE;EACR,CAAC;EACDK,IAAI,EAAE;IACJN,GAAG,EAAE,gBAAgB;IACrBC,IAAI,EAAE;EACR,CAAC;EACDM,MAAM,EAAE;IACNP,GAAG,EAAE,QAAQ;IACbC,IAAI,EAAE;EACR;AACF,CAAC;;AAEDJ,CAAC,CAACW,IAAI,CAAC,OAAO,CAAC;AACZC,IAAI,CAAC,oCAAoC,CAAC;AAC1CC,MAAM,CAAC,CAAAC,CAAC,KAAIA,CAAC,CAACC,OAAO,CAAC,MAAM,EAAEjB,MAAM,CAACG,MAAM,CAAC,CAAC,CAAC;AAC9Ce,EAAE,CAAC,CAAAC,CAAC,KAAI;EACP,MAAMC,IAAI,GAAI;AAClB;AACA;AACA,IAAIjB,MAAM,CAACgB,CAAC,CAACJ,MAAM,CAACM,IAAI,CAAC,CAAChB,GAAI;AAC9B;AACA;AACA,KAAK;EACDc,CAAC,CAACG,mBAAmB,CAACnB,MAAM,CAACgB,CAAC,CAACJ,MAAM,CAACM,IAAI,CAAC,CAACf,IAAI,EAAEc,IAAI,CAAC;AACzD,CAAC,CAAC"}