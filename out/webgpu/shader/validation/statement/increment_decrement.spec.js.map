{"version":3,"file":"increment_decrement.spec.js","names":["description","makeTestGroup","keysOf","scalarTypeOf","Type","ShaderValidationTest","g","kConstructibleTypes","kConstructibleCases","reduce","acc","t","value","create","wgsl","pass","usesF16","kind","array","struct","gdecl","atomic_u32","atomic_i32","test","desc","params","u","combine","beforeAllSubcases","c","type","selectDeviceOrSkipTestCase","fn","operator","direction","code","expectCompileResult","kComponentCases","v2u_x","v2u_y","v3u_x","v3u_y","v3u_z","v4u_x","v4u_y","v4u_z","v4u_w","v2i_x","v2i_y","v3i_x","v3i_y","v3i_z","v4i_x","v4i_y","v4i_z","v4i_w","v2u_xx","v2u_indexed","v2f_x","v2h_x","mat2x2f","mat2x2h","array_i","array_f","struct_var","struct_field","kTests","var","vector","paren_var_paren","star_and_var","paren_star_and_var_paren","many_star_and_var","space","tab","newline","cr","space_space","plus_space_plus","minux_space_minus","no_var","no_semi","prefix","postfix_x","postfix_r","postfix_index","postfix_field","literal_i32","literal_u32","literal_abstract_int","literal_abstract_float","literal_f32","assign_to","at_global","private","workgroup","storage_rw","storage_r","storage","uniform","texture","texture_x","texture_storage","texture_storage_x","sampler","sampler_comparison","override","global_const","workgroup_atomic","storage_atomic","subexpr","expr_paren","expr_add","expr_negate","inc_inc","inc_space_inc","inc_dec","inc_space_dec","paren_inc","paren_dec","in_block","in_for_init","in_for_cond","in_for_update","in_for_update_semi","in_continuing","let","const","builtin","enum","param","replace"],"sources":["../../../../../src/webgpu/shader/validation/statement/increment_decrement.spec.ts"],"sourcesContent":["export const description = `Validation for phony assignment statements`;\n\nimport { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { keysOf } from '../../../../common/util/data_tables.js';\nimport { scalarTypeOf, Type } from '../../../util/conversion.js';\nimport { ShaderValidationTest } from '../shader_validation_test.js';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\ninterface Case {\n  value: string;\n  pass: boolean;\n  usesF16?: boolean;\n  gdecl?: string;\n}\n\nconst kConstructibleTypes = [\n  'bool',\n  'i32',\n  'u32',\n  'f32',\n  'f16',\n  'vec2f',\n  'vec3h',\n  'vec4u',\n  'vec3b',\n  'mat2x3f',\n  'mat4x2h',\n  'abstractInt',\n  'abstractFloat',\n] as const;\n\nconst kConstructibleCases = {\n  ...kConstructibleTypes.reduce(\n    (acc, t) => ({\n      ...acc,\n      [t]: {\n        value: Type[t].create(1).wgsl(),\n        pass: t === 'i32' || t === 'u32' || t === 'abstractInt',\n        usesF16: scalarTypeOf(Type[t]).kind === 'f16',\n      },\n    }),\n    {}\n  ),\n  array: { value: 'array(1,2,3)', pass: false },\n  struct: { value: 'S(1,2)', pass: false, gdecl: 'struct S{ a:u32, b:u32}' },\n  atomic_u32: { value: 'xu', pass: false, gdecl: 'var<workgroup> xu: atomic<u32>;' },\n  atomic_i32: { value: 'xi', pass: false, gdecl: 'var<workgroup> xi: atomic<i32>;' },\n} as const;\n\ng.test('var_init_type')\n  .desc(`Test increment and decrement of a variable of various types`)\n  .params(u => u.combine('type', keysOf(kConstructibleCases)).combine('direction', ['up', 'down']))\n  .beforeAllSubcases(t => {\n    const c = kConstructibleCases[t.params.type] as Case;\n    if (c.usesF16) {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const { value, pass, usesF16, gdecl } = kConstructibleCases[t.params.type] as Case;\n    const operator = t.params.direction === 'up' ? '++' : '--';\n    const code = `\n${usesF16 ? 'enable f16;' : ''}\n${gdecl ?? ''}\nfn f() {\n  var a = ${value};\n  a${operator};\n}`;\n    t.expectCompileResult(pass, code);\n  });\n\ninterface ComponentCase {\n  type: string;\n  wgsl: string;\n  pass: boolean;\n  usesF16?: boolean;\n  gdecl?: string;\n}\n\nconst kComponentCases = {\n  v2u_x: { type: 'vec2u', wgsl: 'a.x', pass: true },\n  v2u_y: { type: 'vec2u', wgsl: 'a.y', pass: true },\n  v3u_x: { type: 'vec3u', wgsl: 'a.x', pass: true },\n  v3u_y: { type: 'vec3u', wgsl: 'a.y', pass: true },\n  v3u_z: { type: 'vec3u', wgsl: 'a.z', pass: true },\n  v4u_x: { type: 'vec4u', wgsl: 'a.x', pass: true },\n  v4u_y: { type: 'vec4u', wgsl: 'a.y', pass: true },\n  v4u_z: { type: 'vec4u', wgsl: 'a.z', pass: true },\n  v4u_w: { type: 'vec4u', wgsl: 'a.w', pass: true },\n  v2i_x: { type: 'vec2i', wgsl: 'a.x', pass: true },\n  v2i_y: { type: 'vec2i', wgsl: 'a.y', pass: true },\n  v3i_x: { type: 'vec3i', wgsl: 'a.x', pass: true },\n  v3i_y: { type: 'vec3i', wgsl: 'a.y', pass: true },\n  v3i_z: { type: 'vec3i', wgsl: 'a.z', pass: true },\n  v4i_x: { type: 'vec4i', wgsl: 'a.x', pass: true },\n  v4i_y: { type: 'vec4i', wgsl: 'a.y', pass: true },\n  v4i_z: { type: 'vec4i', wgsl: 'a.z', pass: true },\n  v4i_w: { type: 'vec4i', wgsl: 'a.w', pass: true },\n  v2u_xx: { type: 'vec2u', wgsl: 'a.xx', pass: false },\n  v2u_indexed: { type: 'vec2u', wgsl: 'a[0]', pass: true },\n  v2f_x: { type: 'vec2f', wgsl: 'a.x', pass: false },\n  v2h_x: { type: 'vec2h', wgsl: 'a.x', pass: false, usesF16: true },\n  mat2x2f: { type: 'mat2x2f', wgsl: 'a[0][0]', pass: false },\n  mat2x2h: { type: 'mat2x2h', wgsl: 'a[0][0]', pass: false, usesF16: true },\n  array: { type: 'array<i32,2>', wgsl: 'a', pass: false },\n  array_i: { type: 'array<i32,2>', wgsl: 'a[0]', pass: true },\n  array_f: { type: 'array<f32,2>', wgsl: 'a[0]', pass: false },\n  struct: { type: 'S', wgsl: 'S', pass: false, gdecl: 'struct S{field:i32}' },\n  struct_var: { type: 'S', wgsl: 'a', pass: false, gdecl: 'struct S{field:i32}' },\n  struct_field: { type: 'S', wgsl: 'a.field', pass: true, gdecl: 'struct S{field:i32}' },\n} as const;\n\ng.test('component')\n  .desc('Test increment and decrement of component of various types')\n  .params(u => u.combine('type', keysOf(kComponentCases)).combine('direction', ['up', 'down']))\n  .beforeAllSubcases(t => {\n    const c = kComponentCases[t.params.type] as ComponentCase;\n    if (c.usesF16) {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const { type, wgsl, pass, usesF16, gdecl } = kComponentCases[t.params.type] as ComponentCase;\n    const operator = t.params.direction === 'up' ? '++' : '--';\n    const code = `\n${usesF16 ? 'enable f16;' : ''}\n${gdecl ?? ''}\nfn f() {\n  var a: ${type};\n  ${wgsl}${operator};\n}`;\n    t.expectCompileResult(pass, code);\n  });\n\ninterface ParseCase {\n  // Statement in a function to execute.\n  wgsl: string;\n  // True if the test should pass\n  pass: boolean;\n  // Module-scope program fragment, if any. Usually a declaration\n  gdecl?: string;\n}\n\nconst kTests = {\n  var: { wgsl: 'a++;', pass: true },\n  vector: { wgsl: 'v++;', pass: false },\n  paren_var_paren: { wgsl: '(a)++;', pass: true },\n  star_and_var: { wgsl: '*&a++;', pass: true },\n  paren_star_and_var_paren: { wgsl: '(*&a)++;', pass: true },\n  many_star_and_var: { wgsl: '*&*&*&a++;', pass: true },\n\n  space: { wgsl: 'a ++;', pass: true },\n  tab: { wgsl: 'a\\t++;', pass: true },\n  newline: { wgsl: 'a\\n++;', pass: true },\n  cr: { wgsl: 'a\\r++;', pass: true },\n  space_space: { wgsl: 'a ++ ;', pass: true },\n  plus_space_plus: { wgsl: 'a+ +;', pass: false },\n  minux_space_minus: { wgsl: 'a- -;', pass: false },\n\n  no_var: { wgsl: '++;', pass: false },\n  no_semi: { wgsl: 'a++', pass: false },\n  prefix: { wgsl: '++a;', pass: false },\n\n  postfix_x: { wgsl: 'v++.x;', pass: false },\n  postfix_r: { wgsl: 'v++.r;', pass: false },\n  postfix_index: { wgsl: 'v++[0];', pass: false },\n  postfix_field: { wgsl: 'a++.foo;', pass: false },\n\n  literal_i32: { wgsl: '12i++;', pass: false },\n  literal_u32: { wgsl: '12u++;', pass: false },\n  literal_abstract_int: { wgsl: '12++;', pass: false },\n  literal_abstract_float: { wgsl: '12.0++;', pass: false },\n  literal_f32: { wgsl: '12.0f++;', pass: false },\n\n  assign_to: { wgsl: 'a++ = 1;', pass: false },\n\n  at_global: { wgsl: '', pass: false, gdecl: 'var<private> g:i32; g++;' },\n  private: { wgsl: 'g++;', pass: true, gdecl: 'var<private> g:i32;' },\n  workgroup: { wgsl: 'g++;', pass: true, gdecl: 'var<workgroup> g:i32;' },\n  storage_rw: {\n    wgsl: 'g++;',\n    pass: true,\n    gdecl: '@group(0) @binding(0) var<storage,read_write> g: i32;',\n  },\n  storage_r: {\n    wgsl: 'g++;',\n    pass: false,\n    gdecl: '@group(0) @binding(0) var<storage,read> g: i32;',\n  },\n  storage: { wgsl: 'g++;', pass: false, gdecl: '@group(0) @binding(0) var<storage,read> g: i32;' },\n  uniform: { wgsl: 'g++;', pass: false, gdecl: '@group(0) @binding(0) var<uniform> g: i32;' },\n  texture: { wgsl: 'g++;', pass: false, gdecl: '@group(0) @binding(0) var g: texture_2d<u32>;' },\n  texture_x: {\n    wgsl: 'g.x++;',\n    pass: false,\n    gdecl: '@group(0) @binding(0) var g: texture_2d<u32>;',\n  },\n  texture_storage: {\n    wgsl: 'g++;',\n    pass: false,\n    gdecl: '@group(0) @binding(0) var g: texture_storage_2d<r32uint>;',\n  },\n  texture_storage_x: {\n    wgsl: 'g.x++;',\n    pass: false,\n    gdecl: '@group(0) @binding(0) var g: texture_storage_2d<r32uint>;',\n  },\n  sampler: { wgsl: 'g++;', pass: false, gdecl: '@group(0) @binding(0) var g: sampler;' },\n  sampler_comparison: {\n    wgsl: 'g++;',\n    pass: false,\n    gdecl: '@group(0) @binding(0) var g: sampler_comparison;',\n  },\n  override: { wgsl: 'g++;', pass: false, gdecl: 'override g:i32;' },\n  global_const: { wgsl: 'g++;', pass: false, gdecl: 'const g:i32 = 0;' },\n  workgroup_atomic: { wgsl: 'g++;', pass: false, gdecl: 'var<workgroup> g:atomic<i32>;' },\n  storage_atomic: {\n    wgsl: 'g++;',\n    pass: false,\n    gdecl: '@group(0) @binding(0) var<storage,read_write> g:atomic<u32>;',\n  },\n\n  subexpr: { wgsl: 'a = b++;', pass: false },\n  expr_paren: { wgsl: '(a++);', pass: false },\n  expr_add: { wgsl: '0 + a++;', pass: false },\n  expr_negate: { wgsl: '-a++;', pass: false },\n  inc_inc: { wgsl: 'a++++;', pass: false },\n  inc_space_inc: { wgsl: 'a++ ++;', pass: false },\n  inc_dec: { wgsl: 'a++--;', pass: false },\n  inc_space_dec: { wgsl: 'a++ --;', pass: false },\n  paren_inc: { wgsl: '(a++)++;', pass: false },\n  paren_dec: { wgsl: '(a++)--;', pass: false },\n\n  in_block: { wgsl: '{ a++; }', pass: true },\n  in_for_init: { wgsl: 'for (a++;false;) {}', pass: true },\n  in_for_cond: { wgsl: 'for (;a++;) {}', pass: false },\n  in_for_update: { wgsl: 'for (;false;a++) {}', pass: true },\n  in_for_update_semi: { wgsl: 'for (;false;a++;) {}', pass: false },\n  in_continuing: { wgsl: 'loop { continuing { a++; break if true;}}', pass: true },\n\n  let: { wgsl: 'let c = a; c++;', pass: false },\n  const: { wgsl: 'const c = 1; c++;', pass: false },\n  builtin: { wgsl: 'max++', pass: false },\n  enum: { wgsl: 'r32uint++', pass: false },\n  param: { wgsl: '', pass: false, gdecl: 'fn bump(p: i32) { p++;}' },\n};\n\ng.test('parse')\n  .desc(`Test that increment and decrement statements are parsed correctly.`)\n  .params(u => u.combine('test', keysOf(kTests)).combine('direction', ['up', 'down']))\n  .fn(t => {\n    const c = kTests[t.params.test] as ParseCase;\n    let { wgsl, gdecl } = c;\n    gdecl = gdecl ?? '';\n    if (t.params.direction === 'down') {\n      wgsl = wgsl.replace('++', '--');\n      gdecl = gdecl.replace('++', '--');\n    }\n\n    const code = `\n${gdecl}\nfn f() {\n  var a: u32;\n  var b: u32;\n  var v: vec4u;\n  ${wgsl}\n}`;\n    t.expectCompileResult(c.pass, code);\n  });\n"],"mappings":"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"}