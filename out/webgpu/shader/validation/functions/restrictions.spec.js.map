{"version":3,"file":"restrictions.spec.js","names":["description","makeTestGroup","keysOf","ShaderValidationTest","g","kCCommonTypeDecls","kVertexPosCases","bare_position","name","value","valid","nested_position","no_bare_position","no_nested_position","test","specURL","desc","params","u","combine","fn","t","testcase","case","code","expectCompileResult","use_attr","entry_point","ret_attr","stage","ret","indexOf","ret_value","call","stage_attr","kFunctionRetTypeCases","u32","i32","f32","bool","f16","vec2","vec3","vec4","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","array1","array2","array3","array4","array5","struct1","struct2","runtime_array","runtime_struct","override_array","atomic_u32","atomic_struct","texture_sample","texture_depth","texture_multisampled","texture_storage","sampler","sampler_comparison","ptr","beforeAllSubcases","selectDeviceOrSkipTestCase","enable","kFunctionParamTypeCases","ptr1","ptr2","ptr3","ptr4","ptr5","ptr6","ptr7","ptr8","ptr9","ptr10","ptr11","ptr12","ptrWorkgroupAtomic","ptrWorkgroupNestedAtomic","invalid_ptr1","invalid_ptr2","invalid_ptr3","invalid_ptr4","invalid_ptr5","invalid_ptr6","invalid_ptr7","isValid","hasLanguageFeature","kFunctionParamValueCases","u32_literal","matches","i32_literal","f32_literal","bool_literal","abstract_int_literal","abstract_float_literal","vec2u_constructor","vec2i_constructor","vec2f_constructor","vec2b_constructor","vec3u_constructor","vec3i_constructor","vec3f_constructor","vec3b_constructor","vec4u_constructor","vec4i_constructor","vec4f_constructor","vec4b_constructor","vec2_abstract_int","vec2_abstract_float","vec3_abstract_int","vec3_abstract_float","vec4_abstract_int","vec4_abstract_float","mat2x2_constructor","mat2x3_constructor","mat2x4_constructor","mat3x2_constructor","mat3x3_constructor","mat3x4_constructor","mat4x2_constructor","mat4x3_constructor","mat4x4_constructor","array1_constructor","array2_constructor","array3_constructor","array4_constructor","array5_constructor","struct1_constructor","struct2_constructor","g_u32","g_i32","g_f32","g_bool","g_vec2","g_vec3","g_vec4","g_mat2x2","g_mat2x3","g_mat2x4","g_mat3x2","g_mat3x3","g_mat3x4","g_mat4x2","g_mat4x3","g_mat4x4","g_array1","g_array2","g_array3","g_array4","g_array5","g_constructible","g_struct_with_array","f_u32","f_i32","f_f32","f_bool","f_vec2","f_vec3","f_vec4","f_mat2x2","f_mat2x3","f_mat2x4","f_mat3x2","f_mat3x3","f_mat3x4","f_mat4x2","f_mat4x3","f_mat4x4","f_array1","f_array2","f_array3","f_array4","f_array5","f_constructible","f_struct_with_array","g_index_u32","g_index_i32","g_index_f32","g_index_bool","f_index_u32","f_index_i32","f_index_f32","f_index_bool","g_array_index_u32","g_array_index_i32","g_array_index_f32","g_array_index_bool","f_array_index_u32","f_array_index_i32","f_array_index_f32","f_array_index_bool","texture_external","needsUnrestrictedPointerParameters","parameterMatches","decl","val","filter","beginSubcases","param","arg","p1","p2","kParamUseCases","body","var","const","override","function","use","i","num_params","num_args","kParamsTypes","kArgValues","abstract_int","abstract_float","unsigned_int","signed_int","float","checkArgTypeMatch","param_type","arg_matches","match","p1_type","arg1_value","res","p2_type","arg2_value","p3_type","arg3_value"],"sources":["../../../../../src/webgpu/shader/validation/functions/restrictions.spec.ts"],"sourcesContent":["export const description = `Validation tests for function restrictions`;\n\nimport { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { keysOf } from '../../../../common/util/data_tables.js';\nimport { ShaderValidationTest } from '../shader_validation_test.js';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\ninterface VertexPosCase {\n  name: string;\n  value: string;\n  valid: boolean;\n}\n\nconst kCCommonTypeDecls = `\nstruct runtime_array_struct {\n  arr : array<u32>\n}\n\nstruct constructible {\n  a : i32,\n  b : u32,\n  c : f32,\n  d : bool,\n}\n\nstruct host_shareable {\n  a : i32,\n  b : u32,\n  c : f32,\n}\n\nstruct struct_with_array {\n  a : array<constructible, 4>\n}\n\n`;\n\nconst kVertexPosCases: Record<string, VertexPosCase> = {\n  bare_position: { name: `@builtin(position) vec4f`, value: `vec4f()`, valid: true },\n  nested_position: { name: `pos_struct`, value: `pos_struct()`, valid: true },\n  no_bare_position: { name: `vec4f`, value: `vec4f()`, valid: false },\n  no_nested_position: { name: `no_pos_struct`, value: `no_pos_struct()`, valid: false },\n};\n\ng.test('vertex_returns_position')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test that a vertex shader should return position`)\n  .params(u => u.combine('case', keysOf(kVertexPosCases)))\n  .fn(t => {\n    const testcase = kVertexPosCases[t.params.case];\n    const code = `\nstruct pos_struct {\n  @builtin(position) pos : vec4f\n}\n\nstruct no_pos_struct {\n  @location(0) x : vec4f\n}\n\n@vertex\nfn main() -> ${testcase.name} {\n  return ${testcase.value};\n}`;\n\n    t.expectCompileResult(testcase.valid, code);\n  });\n\ng.test('entry_point_call_target')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test that an entry point cannot be the target of a function call`)\n  .params(u =>\n    u\n      .combine('stage', ['@fragment', '@vertex', '@compute @workgroup_size(1,1,1)'] as const)\n      .combine('entry_point', ['with', 'without'] as const)\n  )\n  .fn(t => {\n    const use_attr = t.params.entry_point === 'with';\n    let ret_attr = '';\n    if (use_attr && t.params.stage === '@vertex') {\n      ret_attr = '@builtin(position)';\n    }\n    const ret = t.params.stage.indexOf('@vertex') === 0 ? `-> ${ret_attr} vec4f` : '';\n    const ret_value = t.params.stage.indexOf('@vertex') === 0 ? `return vec4f();` : '';\n    const call = t.params.stage.indexOf('@vertex') === 0 ? 'let tmp = bar();' : 'bar();';\n    const stage_attr = use_attr ? t.params.stage : '';\n    const code = `\n${stage_attr}\nfn bar() ${ret} {\n  ${ret_value}\n}\n\nfn foo() {\n  ${call}\n}\n`;\n    t.expectCompileResult(!use_attr, code);\n  });\n\ninterface RetTypeCase {\n  name: string;\n  value: string;\n  valid: boolean;\n}\n\nconst kFunctionRetTypeCases: Record<string, RetTypeCase> = {\n  // Constructible types,\n  u32: { name: `u32`, value: ``, valid: true },\n  i32: { name: `i32`, value: ``, valid: true },\n  f32: { name: `f32`, value: ``, valid: true },\n  bool: { name: `bool`, value: ``, valid: true },\n  f16: { name: `f16`, value: ``, valid: true },\n  vec2: { name: `vec2u`, value: ``, valid: true },\n  vec3: { name: `vec3i`, value: ``, valid: true },\n  vec4: { name: `vec4f`, value: ``, valid: true },\n  mat2x2: { name: `mat2x2f`, value: ``, valid: true },\n  mat2x3: { name: `mat2x3f`, value: ``, valid: true },\n  mat2x4: { name: `mat2x4f`, value: ``, valid: true },\n  mat3x2: { name: `mat3x2f`, value: ``, valid: true },\n  mat3x3: { name: `mat3x3f`, value: ``, valid: true },\n  mat3x4: { name: `mat3x4f`, value: ``, valid: true },\n  mat4x2: { name: `mat4x2f`, value: ``, valid: true },\n  mat4x3: { name: `mat4x3f`, value: ``, valid: true },\n  mat4x4: { name: `mat4x4f`, value: ``, valid: true },\n  array1: { name: `array<u32, 4>`, value: ``, valid: true },\n  array2: { name: `array<vec2f, 2>`, value: ``, valid: true },\n  array3: { name: `array<constructible, 4>`, value: ``, valid: true },\n  array4: { name: `array<mat2x2f, 4>`, value: ``, valid: true },\n  array5: { name: `array<bool, 4>`, value: ``, valid: true },\n  struct1: { name: `constructible`, value: ``, valid: true },\n  struct2: { name: `struct_with_array`, value: ``, valid: true },\n\n  // Non-constructible types.\n  runtime_array: { name: `array<u32>`, value: ``, valid: false },\n  runtime_struct: { name: `runtime_array_struct`, value: ``, valid: false },\n  override_array: { name: `array<u32, override_size>`, value: ``, valid: false },\n  atomic_u32: { name: `atomic<u32>`, value: `atomic_wg`, valid: false },\n  atomic_struct: { name: `atomic_struct`, value: ``, valid: false },\n  texture_sample: { name: `texture_2d<f32>`, value: `t`, valid: false },\n  texture_depth: { name: `texture_depth_2d`, value: `t_depth`, valid: false },\n  texture_multisampled: {\n    name: `texture_multisampled_2d<f32>`,\n    value: `t_multisampled`,\n    valid: false,\n  },\n  texture_storage: {\n    name: `texture_storage_2d<rgba8unorm, write>`,\n    value: `t_storage`,\n    valid: false,\n  },\n  sampler: { name: `sampler`, value: `s`, valid: false },\n  sampler_comparison: { name: `sampler_comparison`, value: `s_depth`, valid: false },\n  ptr: { name: `ptr<workgroup, atomic<u32>>`, value: `&atomic_wg`, valid: false },\n};\n\ng.test('function_return_types')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test that function return types must be constructible`)\n  .params(u => u.combine('case', keysOf(kFunctionRetTypeCases)))\n  .beforeAllSubcases(t => {\n    if (kFunctionRetTypeCases[t.params.case].name === 'f16') {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const testcase = kFunctionRetTypeCases[t.params.case];\n    const enable = testcase.name === 'f16' ? 'enable f16;' : '';\n    const value = testcase.value === '' ? `${testcase.name}()` : testcase.value;\n    const code = `\n${enable}\n\n${kCCommonTypeDecls}\n\nstruct atomic_struct {\n  a : atomic<u32>\n};\n\noverride override_size : u32;\n\nvar<workgroup> atomic_wg : atomic<u32>;\n\n@group(0) @binding(0)\nvar t : texture_2d<f32>;\n@group(0) @binding(1)\nvar s : sampler;\n@group(0) @binding(2)\nvar s_depth : sampler_comparison;\n@group(0) @binding(3)\nvar t_storage : texture_storage_2d<rgba8unorm, write>;\n@group(0) @binding(4)\nvar t_depth : texture_depth_2d;\n@group(0) @binding(5)\nvar t_multisampled : texture_multisampled_2d<f32>;\n@group(0) @binding(6)\nvar t_external : texture_external;\n\nfn foo() -> ${testcase.name} {\n  return ${value};\n}`;\n\n    t.expectCompileResult(testcase.valid, code);\n  });\n\ninterface ParamTypeCase {\n  name: string;\n  valid: boolean | 'with_unrestricted_pointer_parameters';\n}\n\nconst kFunctionParamTypeCases: Record<string, ParamTypeCase> = {\n  // Constructible types,\n  u32: { name: `u32`, valid: true },\n  i32: { name: `i32`, valid: true },\n  f32: { name: `f32`, valid: true },\n  bool: { name: `bool`, valid: true },\n  f16: { name: `f16`, valid: true },\n  vec2: { name: `vec2u`, valid: true },\n  vec3: { name: `vec3i`, valid: true },\n  vec4: { name: `vec4f`, valid: true },\n  mat2x2: { name: `mat2x2f`, valid: true },\n  mat2x3: { name: `mat2x3f`, valid: true },\n  mat2x4: { name: `mat2x4f`, valid: true },\n  mat3x2: { name: `mat3x2f`, valid: true },\n  mat3x3: { name: `mat3x3f`, valid: true },\n  mat3x4: { name: `mat3x4f`, valid: true },\n  mat4x2: { name: `mat4x2f`, valid: true },\n  mat4x3: { name: `mat4x3f`, valid: true },\n  mat4x4: { name: `mat4x4f`, valid: true },\n  array1: { name: `array<u32, 4>`, valid: true },\n  array2: { name: `array<vec2f, 2>`, valid: true },\n  array3: { name: `array<constructible, 4>`, valid: true },\n  array4: { name: `array<mat2x2f, 4>`, valid: true },\n  array5: { name: `array<bool, 4>`, valid: true },\n  struct1: { name: `constructible`, valid: true },\n  struct2: { name: `struct_with_array`, valid: true },\n\n  // Non-constructible types.\n  runtime_array: { name: `array<u32>`, valid: false },\n  runtime_struct: { name: `runtime_array_struct`, valid: false },\n  override_array: { name: `array<u32, override_size>`, valid: false },\n  atomic_u32: { name: `atomic<u32>`, valid: false },\n  atomic_struct: { name: `atomic_struct`, valid: false },\n\n  // Textures and samplers.\n  texture_sample: { name: `texture_2d<f32>`, valid: true },\n  texture_depth: { name: `texture_depth_2d`, valid: true },\n  texture_multisampled: {\n    name: `texture_multisampled_2d<f32>`,\n    valid: true,\n  },\n  texture_storage: { name: `texture_storage_2d<rgba8unorm, write>`, valid: true },\n  sampler: { name: `sampler`, valid: true },\n  sampler_comparison: { name: `sampler_comparison`, valid: true },\n\n  // Valid pointers.\n  ptr1: { name: `ptr<function, u32>`, valid: true },\n  ptr2: { name: `ptr<function, constructible>`, valid: true },\n  ptr3: { name: `ptr<private, u32>`, valid: true },\n  ptr4: { name: `ptr<private, constructible>`, valid: true },\n\n  // Pointers only valid with unrestricted_pointer_parameters\n  ptr5: { name: `ptr<storage, u32>`, valid: 'with_unrestricted_pointer_parameters' },\n  ptr6: { name: `ptr<storage, u32, read>`, valid: 'with_unrestricted_pointer_parameters' },\n  ptr7: { name: `ptr<storage, u32, read_write>`, valid: 'with_unrestricted_pointer_parameters' },\n  ptr8: { name: `ptr<uniform, u32>`, valid: 'with_unrestricted_pointer_parameters' },\n  ptr9: { name: `ptr<workgroup, u32>`, valid: 'with_unrestricted_pointer_parameters' },\n  ptr10: {\n    name: `ptr<storage, host_shareable, read_write>`,\n    valid: 'with_unrestricted_pointer_parameters',\n  },\n  ptr11: {\n    name: `ptr<storage, host_shareable, read>`,\n    valid: 'with_unrestricted_pointer_parameters',\n  },\n  ptr12: {\n    name: `ptr<uniform, host_shareable>`,\n    valid: 'with_unrestricted_pointer_parameters',\n  },\n  ptrWorkgroupAtomic: {\n    name: `ptr<workgroup, atomic<u32>>`,\n    valid: 'with_unrestricted_pointer_parameters',\n  },\n  ptrWorkgroupNestedAtomic: {\n    name: `ptr<workgroup, array<atomic<u32>,1>>`,\n    valid: 'with_unrestricted_pointer_parameters',\n  },\n\n  // Invalid pointers.\n  invalid_ptr1: { name: `ptr<handle, u32>`, valid: false }, // Can't spell handle address space\n  invalid_ptr2: { name: `ptr<not_an_address_space, u32>`, valid: false },\n  invalid_ptr3: { name: `ptr<storage>`, valid: false }, // No store type\n  invalid_ptr4: { name: `ptr<private,u32,read>`, valid: false }, // Can't specify access mode\n  invalid_ptr5: { name: `ptr<private,u32,write>`, valid: false }, // Can't specify access mode\n  invalid_ptr6: { name: `ptr<private,u32,read_write>`, valid: false }, // Can't specify access mode\n  invalid_ptr7: { name: `ptr<private,clamp>`, valid: false }, // Invalid store type\n};\n\ng.test('function_parameter_types')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test validation of user-declared function parameter types`)\n  .params(u => u.combine('case', keysOf(kFunctionParamTypeCases)))\n  .beforeAllSubcases(t => {\n    if (kFunctionParamTypeCases[t.params.case].name === 'f16') {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const testcase = kFunctionParamTypeCases[t.params.case];\n    const enable = testcase.name === 'f16' ? 'enable f16;' : '';\n    const code = `\n${enable}\n\n${kCCommonTypeDecls}\n\nfn foo(param : ${testcase.name}) {\n}`;\n\n    let isValid = testcase.valid;\n    if (isValid === 'with_unrestricted_pointer_parameters') {\n      isValid = t.hasLanguageFeature('unrestricted_pointer_parameters');\n    }\n\n    t.expectCompileResult(isValid, code);\n  });\n\ninterface ParamValueCase {\n  value: string;\n  matches: string[];\n  needsUnrestrictedPointerParameters?: boolean;\n}\n\nconst kFunctionParamValueCases: Record<string, ParamValueCase> = {\n  // Values\n  u32_literal: { value: `0u`, matches: ['u32'] },\n  i32_literal: { value: `0i`, matches: ['i32'] },\n  f32_literal: { value: `0f`, matches: ['f32'] },\n  bool_literal: { value: `false`, matches: ['bool'] },\n  abstract_int_literal: { value: `0`, matches: ['u32', 'i32', 'f32', 'f16'] },\n  abstract_float_literal: { value: `0.0`, matches: ['f32', 'f16'] },\n  vec2u_constructor: { value: `vec2u()`, matches: ['vec2'] },\n  vec2i_constructor: { value: `vec2i()`, matches: [] },\n  vec2f_constructor: { value: `vec2f()`, matches: [] },\n  vec2b_constructor: { value: `vec2<bool>()`, matches: [] },\n  vec3u_constructor: { value: `vec3u()`, matches: [] },\n  vec3i_constructor: { value: `vec3i()`, matches: ['vec3'] },\n  vec3f_constructor: { value: `vec3f()`, matches: [] },\n  vec3b_constructor: { value: `vec3<bool>()`, matches: [] },\n  vec4u_constructor: { value: `vec4u()`, matches: [] },\n  vec4i_constructor: { value: `vec4i()`, matches: [] },\n  vec4f_constructor: { value: `vec4f()`, matches: ['vec4'] },\n  vec4b_constructor: { value: `vec4<bool>()`, matches: [] },\n  vec2_abstract_int: { value: `vec2(0,0)`, matches: ['vec2'] },\n  vec2_abstract_float: { value: `vec2(0.0,0)`, matches: [] },\n  vec3_abstract_int: { value: `vec3(0,0,0)`, matches: ['vec3'] },\n  vec3_abstract_float: { value: `vec3(0.0,0,0)`, matches: [] },\n  vec4_abstract_int: { value: `vec4(0,0,0,0)`, matches: ['vec4'] },\n  vec4_abstract_float: { value: `vec4(0.0,0,0,0)`, matches: ['vec4'] },\n  mat2x2_constructor: { value: `mat2x2f()`, matches: ['mat2x2'] },\n  mat2x3_constructor: { value: `mat2x3f()`, matches: ['mat2x3'] },\n  mat2x4_constructor: { value: `mat2x4f()`, matches: ['mat2x4'] },\n  mat3x2_constructor: { value: `mat3x2f()`, matches: ['mat3x2'] },\n  mat3x3_constructor: { value: `mat3x3f()`, matches: ['mat3x3'] },\n  mat3x4_constructor: { value: `mat3x4f()`, matches: ['mat3x4'] },\n  mat4x2_constructor: { value: `mat4x2f()`, matches: ['mat4x2'] },\n  mat4x3_constructor: { value: `mat4x3f()`, matches: ['mat4x3'] },\n  mat4x4_constructor: { value: `mat4x4f()`, matches: ['mat4x4'] },\n  array1_constructor: { value: `array<u32, 4>()`, matches: ['array1'] },\n  array2_constructor: { value: `array<vec2f, 2>()`, matches: ['array2'] },\n  array3_constructor: { value: `array<constructible, 4>()`, matches: ['array3'] },\n  array4_constructor: { value: `array<mat2x2f, 4>()`, matches: ['array4'] },\n  array5_constructor: { value: `array<bool, 4>()`, matches: ['array5'] },\n  struct1_constructor: { value: `constructible()`, matches: ['struct1'] },\n  struct2_constructor: { value: `struct_with_array()`, matches: ['struct2'] },\n\n  // Variable references\n  g_u32: { value: `g_u32`, matches: ['u32'] },\n  g_i32: { value: `g_i32`, matches: ['i32'] },\n  g_f32: { value: `g_f32`, matches: ['f32'] },\n  g_bool: { value: `g_bool`, matches: ['bool'] },\n  g_vec2: { value: `g_vec2`, matches: ['vec2'] },\n  g_vec3: { value: `g_vec3`, matches: ['vec3'] },\n  g_vec4: { value: `g_vec4`, matches: ['vec4'] },\n  g_mat2x2: { value: `g_mat2x2`, matches: ['mat2x2'] },\n  g_mat2x3: { value: `g_mat2x3`, matches: ['mat2x3'] },\n  g_mat2x4: { value: `g_mat2x4`, matches: ['mat2x4'] },\n  g_mat3x2: { value: `g_mat3x2`, matches: ['mat3x2'] },\n  g_mat3x3: { value: `g_mat3x3`, matches: ['mat3x3'] },\n  g_mat3x4: { value: `g_mat3x4`, matches: ['mat3x4'] },\n  g_mat4x2: { value: `g_mat4x2`, matches: ['mat4x2'] },\n  g_mat4x3: { value: `g_mat4x3`, matches: ['mat4x3'] },\n  g_mat4x4: { value: `g_mat4x4`, matches: ['mat4x4'] },\n  g_array1: { value: `g_array1`, matches: ['array1'] },\n  g_array2: { value: `g_array2`, matches: ['array2'] },\n  g_array3: { value: `g_array3`, matches: ['array3'] },\n  g_array4: { value: `g_array4`, matches: ['array4'] },\n  g_array5: { value: `g_array5`, matches: ['array5'] },\n  g_constructible: { value: `g_constructible`, matches: ['struct1'] },\n  g_struct_with_array: { value: `g_struct_with_array`, matches: ['struct2'] },\n  f_u32: { value: `f_u32`, matches: ['u32'] },\n  f_i32: { value: `f_i32`, matches: ['i32'] },\n  f_f32: { value: `f_f32`, matches: ['f32'] },\n  f_bool: { value: `f_bool`, matches: ['bool'] },\n  f_vec2: { value: `f_vec2`, matches: ['vec2'] },\n  f_vec3: { value: `f_vec3`, matches: ['vec3'] },\n  f_vec4: { value: `f_vec4`, matches: ['vec4'] },\n  f_mat2x2: { value: `f_mat2x2`, matches: ['mat2x2'] },\n  f_mat2x3: { value: `f_mat2x3`, matches: ['mat2x3'] },\n  f_mat2x4: { value: `f_mat2x4`, matches: ['mat2x4'] },\n  f_mat3x2: { value: `f_mat3x2`, matches: ['mat3x2'] },\n  f_mat3x3: { value: `f_mat3x3`, matches: ['mat3x3'] },\n  f_mat3x4: { value: `f_mat3x4`, matches: ['mat3x4'] },\n  f_mat4x2: { value: `f_mat4x2`, matches: ['mat4x2'] },\n  f_mat4x3: { value: `f_mat4x3`, matches: ['mat4x3'] },\n  f_mat4x4: { value: `f_mat4x4`, matches: ['mat4x4'] },\n  f_array1: { value: `f_array1`, matches: ['array1'] },\n  f_array2: { value: `f_array2`, matches: ['array2'] },\n  f_array3: { value: `f_array3`, matches: ['array3'] },\n  f_array4: { value: `f_array4`, matches: ['array4'] },\n  f_array5: { value: `f_array5`, matches: ['array5'] },\n  f_constructible: { value: `f_constructible`, matches: ['struct1'] },\n  f_struct_with_array: { value: `f_struct_with_array`, matches: ['struct2'] },\n  g_index_u32: { value: `g_constructible.b`, matches: ['u32'] },\n  g_index_i32: { value: `g_constructible.a`, matches: ['i32'] },\n  g_index_f32: { value: `g_constructible.c`, matches: ['f32'] },\n  g_index_bool: { value: `g_constructible.d`, matches: ['bool'] },\n  f_index_u32: { value: `f_constructible.b`, matches: ['u32'] },\n  f_index_i32: { value: `f_constructible.a`, matches: ['i32'] },\n  f_index_f32: { value: `f_constructible.c`, matches: ['f32'] },\n  f_index_bool: { value: `f_constructible.d`, matches: ['bool'] },\n  g_array_index_u32: { value: `g_struct_with_array.a[0].b`, matches: ['u32'] },\n  g_array_index_i32: { value: `g_struct_with_array.a[1].a`, matches: ['i32'] },\n  g_array_index_f32: { value: `g_struct_with_array.a[2].c`, matches: ['f32'] },\n  g_array_index_bool: { value: `g_struct_with_array.a[3].d`, matches: ['bool'] },\n  f_array_index_u32: { value: `f_struct_with_array.a[0].b`, matches: ['u32'] },\n  f_array_index_i32: { value: `f_struct_with_array.a[1].a`, matches: ['i32'] },\n  f_array_index_f32: { value: `f_struct_with_array.a[2].c`, matches: ['f32'] },\n  f_array_index_bool: { value: `f_struct_with_array.a[3].d`, matches: ['bool'] },\n\n  // Textures and samplers\n  texture_sample: { value: `t`, matches: ['texture_sample'] },\n  texture_depth: { value: `t_depth`, matches: ['texture_depth'] },\n  texture_multisampled: { value: `t_multisampled`, matches: ['texture_multisampled'] },\n  texture_storage: { value: `t_storage`, matches: ['texture_storage'] },\n  texture_external: { value: `t_external`, matches: ['texture_external'] },\n  sampler: { value: `s`, matches: ['sampler'] },\n  sampler_comparison: { value: `s_depth`, matches: ['sampler_comparison'] },\n\n  // Pointers\n  ptr1: { value: `&f_u32`, matches: ['ptr1'] },\n  ptr2: { value: `&f_constructible`, matches: ['ptr2'] },\n  ptr3: { value: `&g_u32`, matches: ['ptr3'] },\n  ptr4: { value: `&g_constructible`, matches: ['ptr4'] },\n\n  // Requires 'unrestricted_pointer_parameters' WGSL feature\n  ptr5: {\n    value: `&f_constructible.b`,\n    matches: ['ptr1'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr6: {\n    value: `&g_constructible.b`,\n    matches: ['ptr3'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr7: {\n    value: `&f_struct_with_array.a[1].b`,\n    matches: ['ptr1'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr8: {\n    value: `&g_struct_with_array.a[2]`,\n    matches: ['ptr4'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr9: {\n    value: `&ro_host_shareable.b`,\n    matches: ['ptr5', 'ptr6'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr10: {\n    value: `&rw_host_shareable`,\n    matches: ['ptr10'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr11: {\n    value: `&ro_host_shareable`,\n    matches: ['ptr11'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr12: {\n    value: `&uniform_host_shareable`,\n    matches: ['ptr12'],\n    needsUnrestrictedPointerParameters: true,\n  },\n};\n\nfunction parameterMatches(decl: string, matches: string[]): boolean {\n  for (const val of matches) {\n    if (decl === val) {\n      return true;\n    }\n  }\n  return false;\n}\n\ng.test('function_parameter_matching')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(\n    `Test that function parameter types match function parameter type on user-declared functions`\n  )\n  .params(u =>\n    u\n      .combine('decl', keysOf(kFunctionParamTypeCases))\n      .filter(u => {\n        return kFunctionParamTypeCases[u.decl].valid !== false;\n      })\n      .beginSubcases()\n      .combine('arg', keysOf(kFunctionParamValueCases))\n  )\n  .beforeAllSubcases(t => {\n    if (kFunctionParamTypeCases[t.params.decl].name === 'f16') {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const param = kFunctionParamTypeCases[t.params.decl];\n    const arg = kFunctionParamValueCases[t.params.arg];\n    const enable = param.name === 'f16' ? 'enable f16;' : '';\n    const code = `\n${enable}\n\n${kCCommonTypeDecls}\n@group(0) @binding(0)\nvar t : texture_2d<f32>;\n@group(0) @binding(1)\nvar s : sampler;\n@group(0) @binding(2)\nvar s_depth : sampler_comparison;\n@group(0) @binding(3)\nvar t_storage : texture_storage_2d<rgba8unorm, write>;\n@group(0) @binding(4)\nvar t_depth : texture_depth_2d;\n@group(0) @binding(5)\nvar t_multisampled : texture_multisampled_2d<f32>;\n@group(0) @binding(6)\nvar t_external : texture_external;\n\n@group(1) @binding(0)\nvar<storage> ro_host_shareable : host_shareable;\n@group(1) @binding(1)\nvar<storage, read_write> rw_host_shareable : host_shareable;\n@group(1) @binding(2)\nvar<uniform> uniform_host_shareable : host_shareable;\n\nfn bar(param : ${param.name}) { }\n\nvar<private> g_u32 : u32;\nvar<private> g_i32 : i32;\nvar<private> g_f32 : f32;\nvar<private> g_bool : bool;\nvar<private> g_vec2 : vec2u;\nvar<private> g_vec3 : vec3i;\nvar<private> g_vec4 : vec4f;\nvar<private> g_mat2x2 : mat2x2f;\nvar<private> g_mat2x3 : mat2x3f;\nvar<private> g_mat2x4 : mat2x4f;\nvar<private> g_mat3x2 : mat3x2f;\nvar<private> g_mat3x3 : mat3x3f;\nvar<private> g_mat3x4 : mat3x4f;\nvar<private> g_mat4x2 : mat4x2f;\nvar<private> g_mat4x3 : mat4x3f;\nvar<private> g_mat4x4 : mat4x4f;\nvar<private> g_array1 : array<u32, 4>;\nvar<private> g_array2 : array<vec2f, 2>;\nvar<private> g_array3 : array<constructible, 4>;\nvar<private> g_array4 : array<mat2x2f, 4>;\nvar<private> g_array5 : array<bool, 4>;\nvar<private> g_constructible : constructible;\nvar<private> g_struct_with_array : struct_with_array;\n\nfn foo() {\n  var f_u32 : u32;\n  var f_i32 : i32;\n  var f_f32 : f32;\n  var f_bool : bool;\n  var f_vec2 : vec2u;\n  var f_vec3 : vec3i;\n  var f_vec4 : vec4f;\n  var f_mat2x2 : mat2x2f;\n  var f_mat2x3 : mat2x3f;\n  var f_mat2x4 : mat2x4f;\n  var f_mat3x2 : mat3x2f;\n  var f_mat3x3 : mat3x3f;\n  var f_mat3x4 : mat3x4f;\n  var f_mat4x2 : mat4x2f;\n  var f_mat4x3 : mat4x3f;\n  var f_mat4x4 : mat4x4f;\n  var f_array1 : array<u32, 4>;\n  var f_array2 : array<vec2f, 2>;\n  var f_array3 : array<constructible, 4>;\n  var f_array4 : array<mat2x2f, 4>;\n  var f_array5 : array<bool, 4>;\n  var f_constructible : constructible;\n  var f_struct_with_array : struct_with_array;\n\n  bar(${arg.value});\n}\n`;\n\n    const needsUnrestrictedPointerParameters =\n      (kFunctionParamTypeCases[t.params.decl].valid === 'with_unrestricted_pointer_parameters' ||\n        arg.needsUnrestrictedPointerParameters) ??\n      false;\n\n    let isValid = parameterMatches(t.params.decl, arg.matches);\n    if (isValid && needsUnrestrictedPointerParameters) {\n      isValid = t.hasLanguageFeature('unrestricted_pointer_parameters');\n    }\n\n    t.expectCompileResult(isValid, code);\n  });\n\ng.test('no_direct_recursion')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test that functions cannot be directly recursive`)\n  .fn(t => {\n    const code = `\nfn foo() {\n  foo();\n}`;\n\n    t.expectCompileResult(false, code);\n  });\n\ng.test('no_indirect_recursion')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test that functions cannot be indirectly recursive`)\n  .fn(t => {\n    const code = `\nfn bar() {\n  foo();\n}\nfn foo() {\n  bar();\n}`;\n\n    t.expectCompileResult(false, code);\n  });\n\ng.test('param_names_must_differ')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-declaration-sec')\n  .desc(`Test that function parameters must have different names`)\n  .params(u => u.combine('p1', ['a', 'b', 'c'] as const).combine('p2', ['a', 'b', 'c'] as const))\n  .fn(t => {\n    const code = `fn foo(${t.params.p1} : u32, ${t.params.p2} : f32) { }`;\n    t.expectCompileResult(t.params.p1 !== t.params.p2, code);\n  });\n\nconst kParamUseCases: Record<string, string> = {\n  body: `fn foo(param : u32) {\n    let tmp = param;\n  }`,\n  var: `var<private> v : u32 = param;\n  fn foo(param : u32) { }`,\n  const: `const c : u32 = param;\n  fn foo(param : u32) { }`,\n  override: `override o : u32 = param;\n  fn foo(param : u32) { }`,\n  function: `fn bar() { let tmp = param; }\n  fn foo(param : u32) { }`,\n};\n\ng.test('param_scope_is_function_body')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-declaration-sec')\n  .desc(`Test that function parameters are only in scope in the function body`)\n  .params(u => u.combine('use', keysOf(kParamUseCases)))\n  .fn(t => {\n    t.expectCompileResult(t.params.use === 'body', kParamUseCases[t.params.use]);\n  });\n\ng.test('param_number_matches_call')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-calls')\n  .desc(`Test that function calls have an equal number of arguments as the number of parameters`)\n  .params(u =>\n    u\n      .combine('num_args', [0, 1, 2, 3, 4, 255] as const)\n      .combine('num_params', [0, 1, 2, 3, 4, 255] as const)\n  )\n  .fn(t => {\n    let code = `\n    fn bar(`;\n    for (let i = 0; i < t.params.num_params; i++) {\n      code += `p${i} : u32,`;\n    }\n    code += `) { }\\n`;\n    code += `fn foo() {\\nbar(`;\n    for (let i = 0; i < t.params.num_args; i++) {\n      code += `0,`;\n    }\n    code += `);\\n}`;\n    t.expectCompileResult(t.params.num_args === t.params.num_params, code);\n  });\n\nconst kParamsTypes = ['u32', 'i32', 'f32'];\n\ninterface ArgValue {\n  value: string;\n  matches: string[];\n}\n\nconst kArgValues: Record<string, ArgValue> = {\n  abstract_int: {\n    value: '0',\n    matches: ['u32', 'i32', 'f32'],\n  },\n  abstract_float: {\n    value: '0.0',\n    matches: ['f32'],\n  },\n  unsigned_int: {\n    value: '0u',\n    matches: ['u32'],\n  },\n  signed_int: {\n    value: '0i',\n    matches: ['i32'],\n  },\n  float: {\n    value: '0f',\n    matches: ['f32'],\n  },\n};\n\nfunction checkArgTypeMatch(param_type: string, arg_matches: string[]): boolean {\n  for (const match of arg_matches) {\n    if (match === param_type) {\n      return true;\n    }\n  }\n  return false;\n}\n\ng.test('call_arg_types_match_1_param')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-calls')\n  .desc(`Test that the argument types match in order`)\n  .params(u =>\n    u\n      .combine('p1_type', kParamsTypes) //\n      .beginSubcases()\n      .combine('arg1_value', keysOf(kArgValues))\n  )\n  .fn(t => {\n    const code = `\nfn bar(p1 : ${t.params.p1_type}) { }\nfn foo() {\n  bar(${kArgValues[t.params.arg1_value].value});\n}`;\n\n    const res = checkArgTypeMatch(t.params.p1_type, kArgValues[t.params.arg1_value].matches);\n    t.expectCompileResult(res, code);\n  });\n\ng.test('call_arg_types_match_2_params')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-calls')\n  .desc(`Test that the argument types match in order`)\n  .params(u =>\n    u\n      .combine('p1_type', kParamsTypes)\n      .combine('p2_type', kParamsTypes)\n      .beginSubcases()\n      .combine('arg1_value', keysOf(kArgValues))\n      .combine('arg2_value', keysOf(kArgValues))\n  )\n  .fn(t => {\n    const code = `\nfn bar(p1 : ${t.params.p1_type}, p2 : ${t.params.p2_type}) { }\nfn foo() {\n  bar(${kArgValues[t.params.arg1_value].value}, ${kArgValues[t.params.arg2_value].value});\n}`;\n\n    const res =\n      checkArgTypeMatch(t.params.p1_type, kArgValues[t.params.arg1_value].matches) &&\n      checkArgTypeMatch(t.params.p2_type, kArgValues[t.params.arg2_value].matches);\n    t.expectCompileResult(res, code);\n  });\n\ng.test('call_arg_types_match_3_params')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-calls')\n  .desc(`Test that the argument types match in order`)\n  .params(u =>\n    u\n      .combine('p1_type', kParamsTypes)\n      .combine('p2_type', kParamsTypes)\n      .combine('p3_type', kParamsTypes)\n      .beginSubcases()\n      .combine('arg1_value', keysOf(kArgValues))\n      .combine('arg2_value', keysOf(kArgValues))\n      .combine('arg3_value', keysOf(kArgValues))\n  )\n  .fn(t => {\n    const code = `\nfn bar(p1 : ${t.params.p1_type}, p2 : ${t.params.p2_type}, p3 : ${t.params.p3_type}) { }\nfn foo() {\n  bar(${kArgValues[t.params.arg1_value].value},\n      ${kArgValues[t.params.arg2_value].value},\n      ${kArgValues[t.params.arg3_value].value});\n}`;\n\n    const res =\n      checkArgTypeMatch(t.params.p1_type, kArgValues[t.params.arg1_value].matches) &&\n      checkArgTypeMatch(t.params.p2_type, kArgValues[t.params.arg2_value].matches) &&\n      checkArgTypeMatch(t.params.p3_type, kArgValues[t.params.arg3_value].matches);\n    t.expectCompileResult(res, code);\n  });\n"],"mappings":"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"}