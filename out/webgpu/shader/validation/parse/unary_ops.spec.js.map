{"version":3,"file":"unary_ops.spec.js","names":["description","makeTestGroup","keysOf","ShaderValidationTest","g","kTests","not_bool_literal","src","pass","not_bool_expr","not_not_bool_literal","not_not_bool_expr","not_int_literal","not_int_expr","test","desc","params","u","combine","fn","t","code","stmt","expectCompileResult"],"sources":["../../../../../src/webgpu/shader/validation/parse/unary_ops.spec.ts"],"sourcesContent":["export const description = `Validation tests for unary ops`;\n\nimport { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { keysOf } from '../../../../common/util/data_tables.js';\nimport { ShaderValidationTest } from '../shader_validation_test.js';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\nconst kTests = {\n  not_bool_literal: {\n    src: 'let a = !true;',\n    pass: true,\n  },\n  not_bool_expr: {\n    src: `let a = !(1 == 2);`,\n    pass: true,\n  },\n  not_not_bool_literal: {\n    src: 'let a = !!true;',\n    pass: true,\n  },\n  not_not_bool_expr: {\n    src: `let a = !!(1 == 2);`,\n    pass: true,\n  },\n  not_int_literal: {\n    src: `let a = !42;`,\n    pass: false,\n  },\n  not_int_expr: {\n    src: `let a = !(40 + 2);`,\n    pass: false,\n  },\n};\n\ng.test('all')\n  .desc('Test that unary operators are validated correctly')\n  .params(u => u.combine('stmt', keysOf(kTests)))\n  .fn(t => {\n    const code = `\n@vertex\nfn vtx() -> @builtin(position) vec4f {\n  ${kTests[t.params.stmt].src}\n  return vec4f(1);\n}\n    `;\n    t.expectCompileResult(kTests[t.params.stmt].pass, code);\n  });\n"],"mappings":";;GAAA,OAAO,MAAMA,WAAW,GAAI,gCAA+B,CAE3D,SAASC,aAAa,QAAQ,4CAA4C;AAC1E,SAASC,MAAM,QAAQ,wCAAwC;AAC/D,SAASC,oBAAoB,QAAQ,8BAA8B;;AAEnE,OAAO,MAAMC,CAAC,GAAGH,aAAa,CAACE,oBAAoB,CAAC;;AAEpD,MAAME,MAAM,GAAG;EACbC,gBAAgB,EAAE;IAChBC,GAAG,EAAE,gBAAgB;IACrBC,IAAI,EAAE;EACR,CAAC;EACDC,aAAa,EAAE;IACbF,GAAG,EAAG,oBAAmB;IACzBC,IAAI,EAAE;EACR,CAAC;EACDE,oBAAoB,EAAE;IACpBH,GAAG,EAAE,iBAAiB;IACtBC,IAAI,EAAE;EACR,CAAC;EACDG,iBAAiB,EAAE;IACjBJ,GAAG,EAAG,qBAAoB;IAC1BC,IAAI,EAAE;EACR,CAAC;EACDI,eAAe,EAAE;IACfL,GAAG,EAAG,cAAa;IACnBC,IAAI,EAAE;EACR,CAAC;EACDK,YAAY,EAAE;IACZN,GAAG,EAAG,oBAAmB;IACzBC,IAAI,EAAE;EACR;AACF,CAAC;;AAEDJ,CAAC,CAACU,IAAI,CAAC,KAAK,CAAC;AACVC,IAAI,CAAC,mDAAmD,CAAC;AACzDC,MAAM,CAAC,CAAAC,CAAC,KAAIA,CAAC,CAACC,OAAO,CAAC,MAAM,EAAEhB,MAAM,CAACG,MAAM,CAAC,CAAC,CAAC;AAC9Cc,EAAE,CAAC,CAAAC,CAAC,KAAI;EACP,MAAMC,IAAI,GAAI;AAClB;AACA;AACA,IAAIhB,MAAM,CAACe,CAAC,CAACJ,MAAM,CAACM,IAAI,CAAC,CAACf,GAAI;AAC9B;AACA;AACA,KAAK;EACDa,CAAC,CAACG,mBAAmB,CAAClB,MAAM,CAACe,CAAC,CAACJ,MAAM,CAACM,IAAI,CAAC,CAACd,IAAI,EAAEa,IAAI,CAAC;AACzD,CAAC,CAAC"}