{"version":3,"file":"shader_stage_utils.js","names":["kEntryPointsToValidateFragmentOnlyBuiltins","none","expectSuccess","code","fragment","vertex","compute","fragment_and_compute","compute_without_call"],"sources":["../../../../../../../src/webgpu/shader/validation/expression/call/builtin/shader_stage_utils.ts"],"sourcesContent":["/**\n * Use to test that certain WGSL builtins are only available in the fragment stage.\n * Create WGSL that defines a function \"foo\" and its required variables that uses\n * the builtin being tested. Append it to these code strings then compile. It should\n * succeed or fail based on the value `expectSuccess`.\n *\n * See ./textureSample.spec.ts was one example\n */\nexport const kEntryPointsToValidateFragmentOnlyBuiltins = {\n  none: {\n    expectSuccess: true,\n    code: ``,\n  },\n  fragment: {\n    expectSuccess: true,\n    code: `\n      @fragment\n      fn main() {\n        foo();\n      }\n    `,\n  },\n  vertex: {\n    expectSuccess: false,\n    code: `\n      @vertex\n      fn main() -> @builtin(position) vec4f {\n        foo();\n        return vec4f();\n      }\n    `,\n  },\n  compute: {\n    expectSuccess: false,\n    code: `\n      @compute @workgroup_size(1)\n      fn main() {\n        foo();\n      }\n    `,\n  },\n  fragment_and_compute: {\n    expectSuccess: false,\n    code: `\n      @fragment\n      fn main1() {\n        foo();\n      }\n\n      @compute @workgroup_size(1)\n      fn main2() {\n        foo();\n      }\n    `,\n  },\n  compute_without_call: {\n    expectSuccess: true,\n    code: `\n      @compute @workgroup_size(1)\n      fn main() {\n      }\n    `,\n  },\n};\n"],"mappings":";;IAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,OAAO,MAAMA,0CAA0C,GAAG,EACxDC,IAAI,EAAE;IACJC,aAAa,EAAE,IAAI;IACnBC,IAAI,EAAG;EACT,CAAC;EACDC,QAAQ,EAAE;IACRF,aAAa,EAAE,IAAI;IACnBC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;EACE,CAAC;EACDE,MAAM,EAAE;IACNH,aAAa,EAAE,KAAK;IACpBC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA;EACE,CAAC;EACDG,OAAO,EAAE;IACPJ,aAAa,EAAE,KAAK;IACpBC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;EACE,CAAC;EACDI,oBAAoB,EAAE;IACpBL,aAAa,EAAE,KAAK;IACpBC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,CAAC;EACDK,oBAAoB,EAAE;IACpBN,aAAa,EAAE,IAAI;IACnBC,IAAI,EAAG;AACX;AACA;AACA;AACA;EACE;AACF,CAAC"}