{"version":3,"file":"sign.cache.js","names":["abstractInt","i32","FP","fullI32Range","fullI64Range","makeCaseCache","fp_cases","map","trait","generateScalarToIntervalCases","scalarRange","signInterval","reduce","a","b","d","i","signFunc","input","expected","abstract_int"],"sources":["../../../../../../../src/webgpu/shader/execution/expression/call/builtin/sign.cache.ts"],"sourcesContent":["import { abstractInt, i32 } from '../../../../../util/conversion.js';\nimport { FP } from '../../../../../util/floating_point.js';\nimport { fullI32Range, fullI64Range } from '../../../../../util/math.js';\nimport { makeCaseCache } from '../../case_cache.js';\n\n// Cases: [f32|f16|abstract]\nconst fp_cases = (['f32', 'f16', 'abstract'] as const)\n  .map(trait => ({\n    [`${trait === 'abstract' ? 'abstract_float' : trait}`]: () => {\n      return FP[trait].generateScalarToIntervalCases(\n        FP[trait].scalarRange(),\n        'unfiltered',\n        FP[trait].signInterval\n      );\n    },\n  }))\n  .reduce((a, b) => ({ ...a, ...b }), {});\n\nexport const d = makeCaseCache('sign', {\n  ...fp_cases,\n  i32: () =>\n    fullI32Range().map(i => {\n      const signFunc = (i: number): number => (i < 0 ? -1 : i > 0 ? 1 : 0);\n      return { input: [i32(i)], expected: i32(signFunc(i)) };\n    }),\n  abstract_int: () =>\n    fullI64Range().map(i => {\n      const signFunc = (i: bigint): bigint => (i < 0n ? -1n : i > 0n ? 1n : 0n);\n      return { input: [abstractInt(i)], expected: abstractInt(signFunc(i)) };\n    }),\n});\n"],"mappings":";;GAAA,SAASA,WAAW,EAAEC,GAAG,QAAQ,mCAAmC,CACpE,SAASC,EAAE,QAAQ,uCAAuC,CAC1D,SAASC,YAAY,EAAEC,YAAY,QAAQ,6BAA6B;AACxE,SAASC,aAAa,QAAQ,qBAAqB;;AAEnD;AACA,MAAMC,QAAQ,GAAI,CAAC,KAAK,EAAE,KAAK,EAAE,UAAU,CAAC;AACzCC,GAAG,CAAC,CAAAC,KAAK,MAAK;EACb,CAAE,GAAEA,KAAK,KAAK,UAAU,GAAG,gBAAgB,GAAGA,KAAM,EAAC,GAAG,MAAM;IAC5D,OAAON,EAAE,CAACM,KAAK,CAAC,CAACC,6BAA6B;MAC5CP,EAAE,CAACM,KAAK,CAAC,CAACE,WAAW,CAAC,CAAC;MACvB,YAAY;MACZR,EAAE,CAACM,KAAK,CAAC,CAACG;IACZ,CAAC;EACH;AACF,CAAC,CAAC,CAAC;AACFC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,MAAM,EAAE,GAAGD,CAAC,EAAE,GAAGC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;AAEzC,OAAO,MAAMC,CAAC,GAAGV,aAAa,CAAC,MAAM,EAAE;EACrC,GAAGC,QAAQ;EACXL,GAAG,EAAEA,CAAA;EACHE,YAAY,CAAC,CAAC,CAACI,GAAG,CAAC,CAAAS,CAAC,KAAI;IACtB,MAAMC,QAAQ,GAAGA,CAACD,CAAS,KAAcA,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAGA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAE;IACpE,OAAO,EAAEE,KAAK,EAAE,CAACjB,GAAG,CAACe,CAAC,CAAC,CAAC,EAAEG,QAAQ,EAAElB,GAAG,CAACgB,QAAQ,CAACD,CAAC,CAAC,CAAC,CAAC,CAAC;EACxD,CAAC,CAAC;EACJI,YAAY,EAAEA,CAAA;EACZhB,YAAY,CAAC,CAAC,CAACG,GAAG,CAAC,CAAAS,CAAC,KAAI;IACtB,MAAMC,QAAQ,GAAGA,CAACD,CAAS,KAAcA,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,GAAGA,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAG;IACzE,OAAO,EAAEE,KAAK,EAAE,CAAClB,WAAW,CAACgB,CAAC,CAAC,CAAC,EAAEG,QAAQ,EAAEnB,WAAW,CAACiB,QAAQ,CAACD,CAAC,CAAC,CAAC,CAAC,CAAC;EACxE,CAAC;AACL,CAAC,CAAC"}