{"version":3,"file":"select.spec.js","names":["description","makeTestGroup","GPUTest","TypeVec","TypeBool","TypeF32","TypeI32","TypeU32","f32","i32","u32","False","True","bool","vec2","vec3","vec4","run","allInputSources","builtin","g","makeBool","n","dataType","b","type","constructor","f","i","u","test","specURL","desc","params","combine","fn","t","componentType","component","cons","c","map","v2a","v2b","v3a","v3b","v4a","v4b","overloads","scalar","cases","input","expected","overload","T","F","tests","a","boolType","x","y","z","w"],"sources":["../../../../../../../src/webgpu/shader/execution/expression/call/builtin/select.spec.ts"],"sourcesContent":["export const description = `\nExecution tests for the 'select' builtin function\n\nT is scalar, abstract numeric type, or vector\n@const fn select(f: T, t: T, cond: bool) -> T\nReturns t when cond is true, and f otherwise.\n\nT is scalar or abstract numeric type\n@const fn select(f: vecN<T>, t: vecN<T>, cond: vecN<bool>) -> vecN<T>\nComponent-wise selection. Result component i is evaluated as select(f[i],t[i],cond[i]).\n`;\n\nimport { makeTestGroup } from '../../../../../../common/framework/test_group.js';\nimport { GPUTest } from '../../../../../gpu_test.js';\nimport {\n  VectorType,\n  TypeVec,\n  TypeBool,\n  TypeF32,\n  TypeI32,\n  TypeU32,\n  f32,\n  i32,\n  u32,\n  False,\n  True,\n  bool,\n  vec2,\n  vec3,\n  vec4,\n} from '../../../../../util/conversion.js';\nimport { run, CaseList, allInputSources } from '../../expression.js';\n\nimport { builtin } from './builtin.js';\n\nexport const g = makeTestGroup(GPUTest);\n\nfunction makeBool(n: number) {\n  return bool((n & 1) === 1);\n}\n\ntype scalarKind = 'b' | 'f' | 'i' | 'u';\n\nconst dataType = {\n  b: {\n    type: TypeBool,\n    constructor: makeBool,\n  },\n  f: {\n    type: TypeF32,\n    constructor: f32,\n  },\n  i: {\n    type: TypeI32,\n    constructor: i32,\n  },\n  u: {\n    type: TypeU32,\n    constructor: u32,\n  },\n};\n\ng.test('scalar')\n  .specURL('https://www.w3.org/TR/WGSL/#logical-builtin-functions')\n  .desc(`scalar tests`)\n  .params(u =>\n    u\n      .combine('inputSource', allInputSources)\n      .combine('component', ['b', 'f', 'i', 'u'] as const)\n      .combine('overload', ['scalar', 'vec2', 'vec3', 'vec4'] as const)\n  )\n  .fn(async t => {\n    const componentType = dataType[t.params.component as scalarKind].type;\n    const cons = dataType[t.params.component as scalarKind].constructor;\n\n    // Create the scalar values that will be selected from, either as scalars\n    // or vectors.\n    //\n    // Each boolean will select between c[k] and c[k+4].  Those values must\n    // always compare as different.  The tricky case is boolean, where the parity\n    // has to be different, i.e. c[k]-c[k+4] must be odd.\n    const c = [0, 1, 2, 3, 5, 6, 7, 8].map(i => cons(i));\n    // Now form vectors that will have different components from each other.\n    const v2a = vec2(c[0], c[1]);\n    const v2b = vec2(c[4], c[5]);\n    const v3a = vec3(c[0], c[1], c[2]);\n    const v3b = vec3(c[4], c[5], c[6]);\n    const v4a = vec4(c[0], c[1], c[2], c[3]);\n    const v4b = vec4(c[4], c[5], c[6], c[7]);\n\n    const overloads = {\n      scalar: {\n        type: componentType,\n        cases: [\n          { input: [c[0], c[1], False], expected: c[0] },\n          { input: [c[0], c[1], True], expected: c[1] },\n        ],\n      },\n      vec2: {\n        type: TypeVec(2, componentType),\n        cases: [\n          { input: [v2a, v2b, False], expected: v2a },\n          { input: [v2a, v2b, True], expected: v2b },\n        ],\n      },\n      vec3: {\n        type: TypeVec(3, componentType),\n        cases: [\n          { input: [v3a, v3b, False], expected: v3a },\n          { input: [v3a, v3b, True], expected: v3b },\n        ],\n      },\n      vec4: {\n        type: TypeVec(4, componentType),\n        cases: [\n          { input: [v4a, v4b, False], expected: v4a },\n          { input: [v4a, v4b, True], expected: v4b },\n        ],\n      },\n    };\n    const overload = overloads[t.params.overload];\n\n    await run(\n      t,\n      builtin('select'),\n      [overload.type, overload.type, TypeBool],\n      overload.type,\n      t.params,\n      overload.cases\n    );\n  });\n\ng.test('vector')\n  .specURL('https://www.w3.org/TR/WGSL/#logical-builtin-functions')\n  .desc(`vector tests`)\n  .params(u =>\n    u\n      .combine('inputSource', allInputSources)\n      .combine('component', ['b', 'f', 'i', 'u'] as const)\n      .combine('overload', ['vec2', 'vec3', 'vec4'] as const)\n  )\n  .fn(async t => {\n    const componentType = dataType[t.params.component as scalarKind].type;\n    const cons = dataType[t.params.component as scalarKind].constructor;\n\n    // Create the scalar values that will be selected from.\n    //\n    // Each boolean will select between c[k] and c[k+4].  Those values must\n    // always compare as different.  The tricky case is boolean, where the parity\n    // has to be different, i.e. c[k]-c[k+4] must be odd.\n    const c = [0, 1, 2, 3, 5, 6, 7, 8].map(i => cons(i));\n    const T = True;\n    const F = False;\n\n    let tests: { dataType: VectorType; boolType: VectorType; cases: CaseList };\n\n    switch (t.params.overload) {\n      case 'vec2': {\n        const a = vec2(c[0], c[1]);\n        const b = vec2(c[4], c[5]);\n        tests = {\n          dataType: TypeVec(2, componentType),\n          boolType: TypeVec(2, TypeBool),\n          cases: [\n            { input: [a, b, vec2(F, F)], expected: vec2(a.x, a.y) },\n            { input: [a, b, vec2(F, T)], expected: vec2(a.x, b.y) },\n            { input: [a, b, vec2(T, F)], expected: vec2(b.x, a.y) },\n            { input: [a, b, vec2(T, T)], expected: vec2(b.x, b.y) },\n          ],\n        };\n        break;\n      }\n      case 'vec3': {\n        const a = vec3(c[0], c[1], c[2]);\n        const b = vec3(c[4], c[5], c[6]);\n        tests = {\n          dataType: TypeVec(3, componentType),\n          boolType: TypeVec(3, TypeBool),\n          cases: [\n            { input: [a, b, vec3(F, F, F)], expected: vec3(a.x, a.y, a.z) },\n            { input: [a, b, vec3(F, F, T)], expected: vec3(a.x, a.y, b.z) },\n            { input: [a, b, vec3(F, T, F)], expected: vec3(a.x, b.y, a.z) },\n            { input: [a, b, vec3(F, T, T)], expected: vec3(a.x, b.y, b.z) },\n            { input: [a, b, vec3(T, F, F)], expected: vec3(b.x, a.y, a.z) },\n            { input: [a, b, vec3(T, F, T)], expected: vec3(b.x, a.y, b.z) },\n            { input: [a, b, vec3(T, T, F)], expected: vec3(b.x, b.y, a.z) },\n            { input: [a, b, vec3(T, T, T)], expected: vec3(b.x, b.y, b.z) },\n          ],\n        };\n        break;\n      }\n      case 'vec4': {\n        const a = vec4(c[0], c[1], c[2], c[3]);\n        const b = vec4(c[4], c[5], c[6], c[7]);\n        tests = {\n          dataType: TypeVec(4, componentType),\n          boolType: TypeVec(4, TypeBool),\n          cases: [\n            { input: [a, b, vec4(F, F, F, F)], expected: vec4(a.x, a.y, a.z, a.w) },\n            { input: [a, b, vec4(F, F, F, T)], expected: vec4(a.x, a.y, a.z, b.w) },\n            { input: [a, b, vec4(F, F, T, F)], expected: vec4(a.x, a.y, b.z, a.w) },\n            { input: [a, b, vec4(F, F, T, T)], expected: vec4(a.x, a.y, b.z, b.w) },\n            { input: [a, b, vec4(F, T, F, F)], expected: vec4(a.x, b.y, a.z, a.w) },\n            { input: [a, b, vec4(F, T, F, T)], expected: vec4(a.x, b.y, a.z, b.w) },\n            { input: [a, b, vec4(F, T, T, F)], expected: vec4(a.x, b.y, b.z, a.w) },\n            { input: [a, b, vec4(F, T, T, T)], expected: vec4(a.x, b.y, b.z, b.w) },\n            { input: [a, b, vec4(T, F, F, F)], expected: vec4(b.x, a.y, a.z, a.w) },\n            { input: [a, b, vec4(T, F, F, T)], expected: vec4(b.x, a.y, a.z, b.w) },\n            { input: [a, b, vec4(T, F, T, F)], expected: vec4(b.x, a.y, b.z, a.w) },\n            { input: [a, b, vec4(T, F, T, T)], expected: vec4(b.x, a.y, b.z, b.w) },\n            { input: [a, b, vec4(T, T, F, F)], expected: vec4(b.x, b.y, a.z, a.w) },\n            { input: [a, b, vec4(T, T, F, T)], expected: vec4(b.x, b.y, a.z, b.w) },\n            { input: [a, b, vec4(T, T, T, F)], expected: vec4(b.x, b.y, b.z, a.w) },\n            { input: [a, b, vec4(T, T, T, T)], expected: vec4(b.x, b.y, b.z, b.w) },\n          ],\n        };\n        break;\n      }\n    }\n\n    await run(\n      t,\n      builtin('select'),\n      [tests.dataType, tests.dataType, tests.boolType],\n      tests.dataType,\n      t.params,\n      tests.cases\n    );\n  });\n"],"mappings":";AAAA;AAAA,GAAA,OAAO,MAAMA,WAAW,GAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,SAASC,aAAa,QAAQ,kDAAkD;AAChF,SAASC,OAAO,QAAQ,4BAA4B;AACpD;;AAEEC,OAAO;AACPC,QAAQ;AACRC,OAAO;AACPC,OAAO;AACPC,OAAO;AACPC,GAAG;AACHC,GAAG;AACHC,GAAG;AACHC,KAAK;AACLC,IAAI;AACJC,IAAI;AACJC,IAAI;AACJC,IAAI;AACJC,IAAI;AACC,mCAAmC;AAC1C,SAASC,GAAG,EAAYC,eAAe,QAAQ,qBAAqB;;AAEpE,SAASC,OAAO,QAAQ,cAAc;;AAEtC,OAAO,MAAMC,CAAC,GAAGnB,aAAa,CAACC,OAAO,CAAC;;AAEvC,SAASmB,QAAQ,CAACC,CAAS,EAAE;EAC3B,OAAOT,IAAI,CAAC,CAACS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAC5B;;;;AAIA,MAAMC,QAAQ,GAAG;EACfC,CAAC,EAAE;IACDC,IAAI,EAAErB,QAAQ;IACdsB,WAAW,EAAEL;EACf,CAAC;EACDM,CAAC,EAAE;IACDF,IAAI,EAAEpB,OAAO;IACbqB,WAAW,EAAElB;EACf,CAAC;EACDoB,CAAC,EAAE;IACDH,IAAI,EAAEnB,OAAO;IACboB,WAAW,EAAEjB;EACf,CAAC;EACDoB,CAAC,EAAE;IACDJ,IAAI,EAAElB,OAAO;IACbmB,WAAW,EAAEhB;EACf;AACF,CAAC;;AAEDU,CAAC,CAACU,IAAI,CAAC,QAAQ,CAAC;AACbC,OAAO,CAAC,uDAAuD,CAAC;AAChEC,IAAI,CAAE,cAAa,CAAC;AACpBC,MAAM,CAAC,CAAAJ,CAAC;AACPA,CAAC;AACEK,OAAO,CAAC,aAAa,EAAEhB,eAAe,CAAC;AACvCgB,OAAO,CAAC,WAAW,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAU;AACnDA,OAAO,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAU,CACpE;;AACAC,EAAE,CAAC,OAAMC,CAAC,KAAI;EACb,MAAMC,aAAa,GAAGd,QAAQ,CAACa,CAAC,CAACH,MAAM,CAACK,SAAS,CAAe,CAACb,IAAI;EACrE,MAAMc,IAAI,GAAGhB,QAAQ,CAACa,CAAC,CAACH,MAAM,CAACK,SAAS,CAAe,CAACZ,WAAW;;EAEnE;EACA;EACA;EACA;EACA;EACA;EACA,MAAMc,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAAAb,CAAC,KAAIW,IAAI,CAACX,CAAC,CAAC,CAAC;EACpD;EACA,MAAMc,GAAG,GAAG5B,IAAI,CAAC0B,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5B,MAAMG,GAAG,GAAG7B,IAAI,CAAC0B,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5B,MAAMI,GAAG,GAAG7B,IAAI,CAACyB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;EAClC,MAAMK,GAAG,GAAG9B,IAAI,CAACyB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;EAClC,MAAMM,GAAG,GAAG9B,IAAI,CAACwB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;EACxC,MAAMO,GAAG,GAAG/B,IAAI,CAACwB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;;EAExC,MAAMQ,SAAS,GAAG;IAChBC,MAAM,EAAE;MACNxB,IAAI,EAAEY,aAAa;MACnBa,KAAK,EAAE;MACL,EAAEC,KAAK,EAAE,CAACX,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAE7B,KAAK,CAAC,EAAEyC,QAAQ,EAAEZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9C,EAAEW,KAAK,EAAE,CAACX,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAE5B,IAAI,CAAC,EAAEwC,QAAQ,EAAEZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEjD,CAAC;IACD1B,IAAI,EAAE;MACJW,IAAI,EAAEtB,OAAO,CAAC,CAAC,EAAEkC,aAAa,CAAC;MAC/Ba,KAAK,EAAE;MACL,EAAEC,KAAK,EAAE,CAACT,GAAG,EAAEC,GAAG,EAAEhC,KAAK,CAAC,EAAEyC,QAAQ,EAAEV,GAAG,CAAC,CAAC;MAC3C,EAAES,KAAK,EAAE,CAACT,GAAG,EAAEC,GAAG,EAAE/B,IAAI,CAAC,EAAEwC,QAAQ,EAAET,GAAG,CAAC,CAAC;;IAE9C,CAAC;IACD5B,IAAI,EAAE;MACJU,IAAI,EAAEtB,OAAO,CAAC,CAAC,EAAEkC,aAAa,CAAC;MAC/Ba,KAAK,EAAE;MACL,EAAEC,KAAK,EAAE,CAACP,GAAG,EAAEC,GAAG,EAAElC,KAAK,CAAC,EAAEyC,QAAQ,EAAER,GAAG,CAAC,CAAC;MAC3C,EAAEO,KAAK,EAAE,CAACP,GAAG,EAAEC,GAAG,EAAEjC,IAAI,CAAC,EAAEwC,QAAQ,EAAEP,GAAG,CAAC,CAAC;;IAE9C,CAAC;IACD7B,IAAI,EAAE;MACJS,IAAI,EAAEtB,OAAO,CAAC,CAAC,EAAEkC,aAAa,CAAC;MAC/Ba,KAAK,EAAE;MACL,EAAEC,KAAK,EAAE,CAACL,GAAG,EAAEC,GAAG,EAAEpC,KAAK,CAAC,EAAEyC,QAAQ,EAAEN,GAAG,CAAC,CAAC;MAC3C,EAAEK,KAAK,EAAE,CAACL,GAAG,EAAEC,GAAG,EAAEnC,IAAI,CAAC,EAAEwC,QAAQ,EAAEL,GAAG,CAAC,CAAC;;IAE9C;EACF,CAAC;EACD,MAAMM,QAAQ,GAAGL,SAAS,CAACZ,CAAC,CAACH,MAAM,CAACoB,QAAQ,CAAC;;EAE7C,MAAMpC,GAAG;EACPmB,CAAC;EACDjB,OAAO,CAAC,QAAQ,CAAC;EACjB,CAACkC,QAAQ,CAAC5B,IAAI,EAAE4B,QAAQ,CAAC5B,IAAI,EAAErB,QAAQ,CAAC;EACxCiD,QAAQ,CAAC5B,IAAI;EACbW,CAAC,CAACH,MAAM;EACRoB,QAAQ,CAACH,KAAK,CACf;;AACH,CAAC,CAAC;;AAEJ9B,CAAC,CAACU,IAAI,CAAC,QAAQ,CAAC;AACbC,OAAO,CAAC,uDAAuD,CAAC;AAChEC,IAAI,CAAE,cAAa,CAAC;AACpBC,MAAM,CAAC,CAAAJ,CAAC;AACPA,CAAC;AACEK,OAAO,CAAC,aAAa,EAAEhB,eAAe,CAAC;AACvCgB,OAAO,CAAC,WAAW,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAU;AACnDA,OAAO,CAAC,UAAU,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAU,CAC1D;;AACAC,EAAE,CAAC,OAAMC,CAAC,KAAI;EACb,MAAMC,aAAa,GAAGd,QAAQ,CAACa,CAAC,CAACH,MAAM,CAACK,SAAS,CAAe,CAACb,IAAI;EACrE,MAAMc,IAAI,GAAGhB,QAAQ,CAACa,CAAC,CAACH,MAAM,CAACK,SAAS,CAAe,CAACZ,WAAW;;EAEnE;EACA;EACA;EACA;EACA;EACA,MAAMc,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAAAb,CAAC,KAAIW,IAAI,CAACX,CAAC,CAAC,CAAC;EACpD,MAAM0B,CAAC,GAAG1C,IAAI;EACd,MAAM2C,CAAC,GAAG5C,KAAK;;EAEf,IAAI6C,KAAsE;;EAE1E,QAAQpB,CAAC,CAACH,MAAM,CAACoB,QAAQ;IACvB,KAAK,MAAM,CAAE;QACX,MAAMI,CAAC,GAAG3C,IAAI,CAAC0B,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,MAAMhB,CAAC,GAAGV,IAAI,CAAC0B,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1BgB,KAAK,GAAG;UACNjC,QAAQ,EAAEpB,OAAO,CAAC,CAAC,EAAEkC,aAAa,CAAC;UACnCqB,QAAQ,EAAEvD,OAAO,CAAC,CAAC,EAAEC,QAAQ,CAAC;UAC9B8C,KAAK,EAAE;UACL,EAAEC,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAEV,IAAI,CAACyC,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAEtC,IAAI,CAAC2C,CAAC,CAACE,CAAC,EAAEF,CAAC,CAACG,CAAC,CAAC,CAAC,CAAC;UACvD,EAAET,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAEV,IAAI,CAACyC,CAAC,EAAED,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAEtC,IAAI,CAAC2C,CAAC,CAACE,CAAC,EAAEnC,CAAC,CAACoC,CAAC,CAAC,CAAC,CAAC;UACvD,EAAET,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAEV,IAAI,CAACwC,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAEtC,IAAI,CAACU,CAAC,CAACmC,CAAC,EAAEF,CAAC,CAACG,CAAC,CAAC,CAAC,CAAC;UACvD,EAAET,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAEV,IAAI,CAACwC,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAEtC,IAAI,CAACU,CAAC,CAACmC,CAAC,EAAEnC,CAAC,CAACoC,CAAC,CAAC,CAAC,CAAC;;QAE3D,CAAC;QACD;MACF;IACA,KAAK,MAAM,CAAE;QACX,MAAMH,CAAC,GAAG1C,IAAI,CAACyB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;QAChC,MAAMhB,CAAC,GAAGT,IAAI,CAACyB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;QAChCgB,KAAK,GAAG;UACNjC,QAAQ,EAAEpB,OAAO,CAAC,CAAC,EAAEkC,aAAa,CAAC;UACnCqB,QAAQ,EAAEvD,OAAO,CAAC,CAAC,EAAEC,QAAQ,CAAC;UAC9B8C,KAAK,EAAE;UACL,EAAEC,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAET,IAAI,CAACwC,CAAC,EAAEA,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAErC,IAAI,CAAC0C,CAAC,CAACE,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEH,CAAC,CAACI,CAAC,CAAC,CAAC,CAAC;UAC/D,EAAEV,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAET,IAAI,CAACwC,CAAC,EAAEA,CAAC,EAAED,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAErC,IAAI,CAAC0C,CAAC,CAACE,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEpC,CAAC,CAACqC,CAAC,CAAC,CAAC,CAAC;UAC/D,EAAEV,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAET,IAAI,CAACwC,CAAC,EAAED,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAErC,IAAI,CAAC0C,CAAC,CAACE,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEH,CAAC,CAACI,CAAC,CAAC,CAAC,CAAC;UAC/D,EAAEV,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAET,IAAI,CAACwC,CAAC,EAAED,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAErC,IAAI,CAAC0C,CAAC,CAACE,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEpC,CAAC,CAACqC,CAAC,CAAC,CAAC,CAAC;UAC/D,EAAEV,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAET,IAAI,CAACuC,CAAC,EAAEC,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAErC,IAAI,CAACS,CAAC,CAACmC,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEH,CAAC,CAACI,CAAC,CAAC,CAAC,CAAC;UAC/D,EAAEV,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAET,IAAI,CAACuC,CAAC,EAAEC,CAAC,EAAED,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAErC,IAAI,CAACS,CAAC,CAACmC,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEpC,CAAC,CAACqC,CAAC,CAAC,CAAC,CAAC;UAC/D,EAAEV,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAET,IAAI,CAACuC,CAAC,EAAEA,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAErC,IAAI,CAACS,CAAC,CAACmC,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEH,CAAC,CAACI,CAAC,CAAC,CAAC,CAAC;UAC/D,EAAEV,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAET,IAAI,CAACuC,CAAC,EAAEA,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAErC,IAAI,CAACS,CAAC,CAACmC,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEpC,CAAC,CAACqC,CAAC,CAAC,CAAC,CAAC;;QAEnE,CAAC;QACD;MACF;IACA,KAAK,MAAM,CAAE;QACX,MAAMJ,CAAC,GAAGzC,IAAI,CAACwB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,MAAMhB,CAAC,GAAGR,IAAI,CAACwB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;QACtCgB,KAAK,GAAG;UACNjC,QAAQ,EAAEpB,OAAO,CAAC,CAAC,EAAEkC,aAAa,CAAC;UACnCqB,QAAQ,EAAEvD,OAAO,CAAC,CAAC,EAAEC,QAAQ,CAAC;UAC9B8C,KAAK,EAAE;UACL,EAAEC,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACuC,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAEpC,IAAI,CAACyC,CAAC,CAACE,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEH,CAAC,CAACI,CAAC,EAAEJ,CAAC,CAACK,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACuC,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAED,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAEpC,IAAI,CAACyC,CAAC,CAACE,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEH,CAAC,CAACI,CAAC,EAAErC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACuC,CAAC,EAAEA,CAAC,EAAED,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAEpC,IAAI,CAACyC,CAAC,CAACE,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEpC,CAAC,CAACqC,CAAC,EAAEJ,CAAC,CAACK,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACuC,CAAC,EAAEA,CAAC,EAAED,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAEpC,IAAI,CAACyC,CAAC,CAACE,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEpC,CAAC,CAACqC,CAAC,EAAErC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACuC,CAAC,EAAED,CAAC,EAAEC,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAEpC,IAAI,CAACyC,CAAC,CAACE,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEH,CAAC,CAACI,CAAC,EAAEJ,CAAC,CAACK,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACuC,CAAC,EAAED,CAAC,EAAEC,CAAC,EAAED,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAEpC,IAAI,CAACyC,CAAC,CAACE,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEH,CAAC,CAACI,CAAC,EAAErC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACuC,CAAC,EAAED,CAAC,EAAEA,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAEpC,IAAI,CAACyC,CAAC,CAACE,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEpC,CAAC,CAACqC,CAAC,EAAEJ,CAAC,CAACK,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACuC,CAAC,EAAED,CAAC,EAAEA,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAEpC,IAAI,CAACyC,CAAC,CAACE,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEpC,CAAC,CAACqC,CAAC,EAAErC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACsC,CAAC,EAAEC,CAAC,EAAEA,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAEpC,IAAI,CAACQ,CAAC,CAACmC,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEH,CAAC,CAACI,CAAC,EAAEJ,CAAC,CAACK,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACsC,CAAC,EAAEC,CAAC,EAAEA,CAAC,EAAED,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAEpC,IAAI,CAACQ,CAAC,CAACmC,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEH,CAAC,CAACI,CAAC,EAAErC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACsC,CAAC,EAAEC,CAAC,EAAED,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAEpC,IAAI,CAACQ,CAAC,CAACmC,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEpC,CAAC,CAACqC,CAAC,EAAEJ,CAAC,CAACK,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACsC,CAAC,EAAEC,CAAC,EAAED,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAEpC,IAAI,CAACQ,CAAC,CAACmC,CAAC,EAAEF,CAAC,CAACG,CAAC,EAAEpC,CAAC,CAACqC,CAAC,EAAErC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACsC,CAAC,EAAEA,CAAC,EAAEC,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAEpC,IAAI,CAACQ,CAAC,CAACmC,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEH,CAAC,CAACI,CAAC,EAAEJ,CAAC,CAACK,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACsC,CAAC,EAAEA,CAAC,EAAEC,CAAC,EAAED,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAEpC,IAAI,CAACQ,CAAC,CAACmC,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEH,CAAC,CAACI,CAAC,EAAErC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACsC,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAEC,CAAC,CAAC,CAAC,EAAEH,QAAQ,EAAEpC,IAAI,CAACQ,CAAC,CAACmC,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEpC,CAAC,CAACqC,CAAC,EAAEJ,CAAC,CAACK,CAAC,CAAC,CAAC,CAAC;UACvE,EAAEX,KAAK,EAAE,CAACM,CAAC,EAAEjC,CAAC,EAAER,IAAI,CAACsC,CAAC,EAAEA,CAAC,EAAEA,CAAC,EAAEA,CAAC,CAAC,CAAC,EAAEF,QAAQ,EAAEpC,IAAI,CAACQ,CAAC,CAACmC,CAAC,EAAEnC,CAAC,CAACoC,CAAC,EAAEpC,CAAC,CAACqC,CAAC,EAAErC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC;;QAE3E,CAAC;QACD;MACF,CAAC;;;EAGH,MAAM7C,GAAG;EACPmB,CAAC;EACDjB,OAAO,CAAC,QAAQ,CAAC;EACjB,CAACqC,KAAK,CAACjC,QAAQ,EAAEiC,KAAK,CAACjC,QAAQ,EAAEiC,KAAK,CAACE,QAAQ,CAAC;EAChDF,KAAK,CAACjC,QAAQ;EACda,CAAC,CAACH,MAAM;EACRuB,KAAK,CAACN,KAAK,CACZ;;AACH,CAAC,CAAC"}