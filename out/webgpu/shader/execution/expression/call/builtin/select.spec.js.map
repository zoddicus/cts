{"version":3,"file":"select.spec.js","names":["description","makeTestGroup","GPUTest","TypeVec","TypeBool","TypeF32","TypeF16","TypeI32","TypeU32","f32","f16","i32","u32","False","True","bool","vec2","vec3","vec4","run","allInputSources","builtin","g","makeBool","n","dataType","b","type","constructor","f","h","i","u","test","specURL","desc","params","combine","beforeAllSubcases","t","component","selectDeviceOrSkipTestCase","requiredFeatures","fn","componentType","cons","c","map","v2a","v2b","v3a","v3b","v4a","v4b","overloads","scalar","cases","input","expected","overload","T","F","tests","a","boolType","x","y","z","w"],"sources":["../../../../../../../src/webgpu/shader/execution/expression/call/builtin/select.spec.ts"],"sourcesContent":["export const description = `\nExecution tests for the 'select' builtin function\n\nT is scalar, abstract numeric type, or vector\n@const fn select(f: T, t: T, cond: bool) -> T\nReturns t when cond is true, and f otherwise.\n\nT is scalar or abstract numeric type\n@const fn select(f: vecN<T>, t: vecN<T>, cond: vecN<bool>) -> vecN<T>\nComponent-wise selection. Result component i is evaluated as select(f[i],t[i],cond[i]).\n`;\n\nimport { makeTestGroup } from '../../../../../../common/framework/test_group.js';\nimport { GPUTest } from '../../../../../gpu_test.js';\nimport {\n  VectorType,\n  TypeVec,\n  TypeBool,\n  TypeF32,\n  TypeF16,\n  TypeI32,\n  TypeU32,\n  f32,\n  f16,\n  i32,\n  u32,\n  False,\n  True,\n  bool,\n  vec2,\n  vec3,\n  vec4,\n} from '../../../../../util/conversion.js';\nimport { run, CaseList, allInputSources } from '../../expression.js';\n\nimport { builtin } from './builtin.js';\n\nexport const g = makeTestGroup(GPUTest);\n\nfunction makeBool(n: number) {\n  return bool((n & 1) === 1);\n}\n\ntype scalarKind = 'b' | 'f' | 'h' | 'i' | 'u';\n\nconst dataType = {\n  b: {\n    type: TypeBool,\n    constructor: makeBool,\n  },\n  f: {\n    type: TypeF32,\n    constructor: f32,\n  },\n  h: {\n    type: TypeF16,\n    constructor: f16,\n  },\n  i: {\n    type: TypeI32,\n    constructor: i32,\n  },\n  u: {\n    type: TypeU32,\n    constructor: u32,\n  },\n};\n\ng.test('scalar')\n  .specURL('https://www.w3.org/TR/WGSL/#logical-builtin-functions')\n  .desc(`scalar tests`)\n  .params(u =>\n    u\n      .combine('inputSource', allInputSources)\n      .combine('component', ['b', 'f', 'h', 'i', 'u'] as const)\n      .combine('overload', ['scalar', 'vec2', 'vec3', 'vec4'] as const)\n  )\n  .beforeAllSubcases(t => {\n    if (t.params.component === 'h') {\n      t.selectDeviceOrSkipTestCase({ requiredFeatures: ['shader-f16'] });\n    }\n  })\n  .fn(async t => {\n    const componentType = dataType[t.params.component as scalarKind].type;\n    const cons = dataType[t.params.component as scalarKind].constructor;\n\n    // Create the scalar values that will be selected from, either as scalars\n    // or vectors.\n    //\n    // Each boolean will select between c[k] and c[k+4].  Those values must\n    // always compare as different.  The tricky case is boolean, where the parity\n    // has to be different, i.e. c[k]-c[k+4] must be odd.\n    const c = [0, 1, 2, 3, 5, 6, 7, 8].map(i => cons(i));\n    // Now form vectors that will have different components from each other.\n    const v2a = vec2(c[0], c[1]);\n    const v2b = vec2(c[4], c[5]);\n    const v3a = vec3(c[0], c[1], c[2]);\n    const v3b = vec3(c[4], c[5], c[6]);\n    const v4a = vec4(c[0], c[1], c[2], c[3]);\n    const v4b = vec4(c[4], c[5], c[6], c[7]);\n\n    const overloads = {\n      scalar: {\n        type: componentType,\n        cases: [\n          { input: [c[0], c[1], False], expected: c[0] },\n          { input: [c[0], c[1], True], expected: c[1] },\n        ],\n      },\n      vec2: {\n        type: TypeVec(2, componentType),\n        cases: [\n          { input: [v2a, v2b, False], expected: v2a },\n          { input: [v2a, v2b, True], expected: v2b },\n        ],\n      },\n      vec3: {\n        type: TypeVec(3, componentType),\n        cases: [\n          { input: [v3a, v3b, False], expected: v3a },\n          { input: [v3a, v3b, True], expected: v3b },\n        ],\n      },\n      vec4: {\n        type: TypeVec(4, componentType),\n        cases: [\n          { input: [v4a, v4b, False], expected: v4a },\n          { input: [v4a, v4b, True], expected: v4b },\n        ],\n      },\n    };\n    const overload = overloads[t.params.overload];\n\n    await run(\n      t,\n      builtin('select'),\n      [overload.type, overload.type, TypeBool],\n      overload.type,\n      t.params,\n      overload.cases\n    );\n  });\n\ng.test('vector')\n  .specURL('https://www.w3.org/TR/WGSL/#logical-builtin-functions')\n  .desc(`vector tests`)\n  .params(u =>\n    u\n      .combine('inputSource', allInputSources)\n      .combine('component', ['b', 'f', 'h', 'i', 'u'] as const)\n      .combine('overload', ['vec2', 'vec3', 'vec4'] as const)\n  )\n  .beforeAllSubcases(t => {\n    if (t.params.component === 'h') {\n      t.selectDeviceOrSkipTestCase({ requiredFeatures: ['shader-f16'] });\n    }\n  })\n  .fn(async t => {\n    const componentType = dataType[t.params.component as scalarKind].type;\n    const cons = dataType[t.params.component as scalarKind].constructor;\n\n    // Create the scalar values that will be selected from.\n    //\n    // Each boolean will select between c[k] and c[k+4].  Those values must\n    // always compare as different.  The tricky case is boolean, where the parity\n    // has to be different, i.e. c[k]-c[k+4] must be odd.\n    const c = [0, 1, 2, 3, 5, 6, 7, 8].map(i => cons(i));\n    const T = True;\n    const F = False;\n\n    let tests: { dataType: VectorType; boolType: VectorType; cases: CaseList };\n\n    switch (t.params.overload) {\n      case 'vec2': {\n        const a = vec2(c[0], c[1]);\n        const b = vec2(c[4], c[5]);\n        tests = {\n          dataType: TypeVec(2, componentType),\n          boolType: TypeVec(2, TypeBool),\n          cases: [\n            { input: [a, b, vec2(F, F)], expected: vec2(a.x, a.y) },\n            { input: [a, b, vec2(F, T)], expected: vec2(a.x, b.y) },\n            { input: [a, b, vec2(T, F)], expected: vec2(b.x, a.y) },\n            { input: [a, b, vec2(T, T)], expected: vec2(b.x, b.y) },\n          ],\n        };\n        break;\n      }\n      case 'vec3': {\n        const a = vec3(c[0], c[1], c[2]);\n        const b = vec3(c[4], c[5], c[6]);\n        tests = {\n          dataType: TypeVec(3, componentType),\n          boolType: TypeVec(3, TypeBool),\n          cases: [\n            { input: [a, b, vec3(F, F, F)], expected: vec3(a.x, a.y, a.z) },\n            { input: [a, b, vec3(F, F, T)], expected: vec3(a.x, a.y, b.z) },\n            { input: [a, b, vec3(F, T, F)], expected: vec3(a.x, b.y, a.z) },\n            { input: [a, b, vec3(F, T, T)], expected: vec3(a.x, b.y, b.z) },\n            { input: [a, b, vec3(T, F, F)], expected: vec3(b.x, a.y, a.z) },\n            { input: [a, b, vec3(T, F, T)], expected: vec3(b.x, a.y, b.z) },\n            { input: [a, b, vec3(T, T, F)], expected: vec3(b.x, b.y, a.z) },\n            { input: [a, b, vec3(T, T, T)], expected: vec3(b.x, b.y, b.z) },\n          ],\n        };\n        break;\n      }\n      case 'vec4': {\n        const a = vec4(c[0], c[1], c[2], c[3]);\n        const b = vec4(c[4], c[5], c[6], c[7]);\n        tests = {\n          dataType: TypeVec(4, componentType),\n          boolType: TypeVec(4, TypeBool),\n          cases: [\n            { input: [a, b, vec4(F, F, F, F)], expected: vec4(a.x, a.y, a.z, a.w) },\n            { input: [a, b, vec4(F, F, F, T)], expected: vec4(a.x, a.y, a.z, b.w) },\n            { input: [a, b, vec4(F, F, T, F)], expected: vec4(a.x, a.y, b.z, a.w) },\n            { input: [a, b, vec4(F, F, T, T)], expected: vec4(a.x, a.y, b.z, b.w) },\n            { input: [a, b, vec4(F, T, F, F)], expected: vec4(a.x, b.y, a.z, a.w) },\n            { input: [a, b, vec4(F, T, F, T)], expected: vec4(a.x, b.y, a.z, b.w) },\n            { input: [a, b, vec4(F, T, T, F)], expected: vec4(a.x, b.y, b.z, a.w) },\n            { input: [a, b, vec4(F, T, T, T)], expected: vec4(a.x, b.y, b.z, b.w) },\n            { input: [a, b, vec4(T, F, F, F)], expected: vec4(b.x, a.y, a.z, a.w) },\n            { input: [a, b, vec4(T, F, F, T)], expected: vec4(b.x, a.y, a.z, b.w) },\n            { input: [a, b, vec4(T, F, T, F)], expected: vec4(b.x, a.y, b.z, a.w) },\n            { input: [a, b, vec4(T, F, T, T)], expected: vec4(b.x, a.y, b.z, b.w) },\n            { input: [a, b, vec4(T, T, F, F)], expected: vec4(b.x, b.y, a.z, a.w) },\n            { input: [a, b, vec4(T, T, F, T)], expected: vec4(b.x, b.y, a.z, b.w) },\n            { input: [a, b, vec4(T, T, T, F)], expected: vec4(b.x, b.y, b.z, a.w) },\n            { input: [a, b, vec4(T, T, T, T)], expected: vec4(b.x, b.y, b.z, b.w) },\n          ],\n        };\n        break;\n      }\n    }\n\n    await run(\n      t,\n      builtin('select'),\n      [tests.dataType, tests.dataType, tests.boolType],\n      tests.dataType,\n      t.params,\n      tests.cases\n    );\n  });\n"],"mappings":"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"}