{"version":3,"file":"utils.js","names":["generateCoordBoundaries","numDimensions","ret","Error","name","i","j","k","push","generateOffsets","undefined","val","v"],"sources":["../../../../../../../src/webgpu/shader/execution/expression/call/builtin/utils.ts"],"sourcesContent":["/**\n * Generates the boundary entries for the given number of dimensions\n *\n * @param numDimensions: The number of dimensions to generate for\n * @returns an array of generated coord boundaries\n */\nexport function generateCoordBoundaries(numDimensions: number) {\n  const ret = ['in-bounds'];\n\n  if (numDimensions < 1 || numDimensions > 3) {\n    throw new Error(`invalid numDimensions: ${numDimensions}`);\n  }\n\n  const name = 'xyz';\n  for (let i = 0; i < numDimensions; ++i) {\n    for (const j of ['min', 'max']) {\n      for (const k of ['wrap', 'boundary']) {\n        ret.push(`${name[i]}-${j}-${k}`);\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Generates a set of offset values to attempt in the range [-9, 8].\n *\n * @param numDimensions: The number of dimensions to generate for\n * @return an array of generated offset values\n */\nexport function generateOffsets(numDimensions: number) {\n  if (numDimensions < 2 || numDimensions > 3) {\n    throw new Error(`generateOffsets: invalid numDimensions: ${numDimensions}`);\n  }\n  const ret: Array<undefined | Array<number>> = [undefined];\n  for (const val of [-9, -8, 0, 1, 7, 8]) {\n    const v = [];\n    for (let i = 0; i < numDimensions; ++i) {\n      v.push(val);\n    }\n    ret.push(v);\n  }\n  return ret;\n}\n"],"mappings":";AAAA;AAAA,G,CAAA;AACA;AACA;AACA;AACA;AACA,GACA,OAAO,SAASA,uBAAuB,CAACC,aAAqB,EAAE,CAC7D,MAAMC,GAAG,GAAG,CAAC,WAAW,CAAC;;EAEzB,IAAID,aAAa,GAAG,CAAC,IAAIA,aAAa,GAAG,CAAC,EAAE;IAC1C,MAAM,IAAIE,KAAK,CAAE,0BAAyBF,aAAc,EAAC,CAAC;EAC5D;;EAEA,MAAMG,IAAI,GAAG,KAAK;EAClB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,aAAa,EAAE,EAAEI,CAAC,EAAE;IACtC,KAAK,MAAMC,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE;MAC9B,KAAK,MAAMC,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE;QACpCL,GAAG,CAACM,IAAI,CAAE,GAAEJ,IAAI,CAACC,CAAC,CAAE,IAAGC,CAAE,IAAGC,CAAE,EAAC,CAAC;MAClC;IACF;EACF;;EAEA,OAAOL,GAAG;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASO,eAAe,CAACR,aAAqB,EAAE;EACrD,IAAIA,aAAa,GAAG,CAAC,IAAIA,aAAa,GAAG,CAAC,EAAE;IAC1C,MAAM,IAAIE,KAAK,CAAE,2CAA0CF,aAAc,EAAC,CAAC;EAC7E;EACA,MAAMC,GAAqC,GAAG,CAACQ,SAAS,CAAC;EACzD,KAAK,MAAMC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;IACtC,MAAMC,CAAC,GAAG,EAAE;IACZ,KAAK,IAAIP,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,aAAa,EAAE,EAAEI,CAAC,EAAE;MACtCO,CAAC,CAACJ,IAAI,CAACG,GAAG,CAAC;IACb;IACAT,GAAG,CAACM,IAAI,CAACI,CAAC,CAAC;EACb;EACA,OAAOV,GAAG;AACZ"}