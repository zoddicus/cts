{"version":3,"file":"all.spec.js","names":["description","makeTestGroup","GPUTest","False","True","TypeBool","TypeVec","vec2","vec3","vec4","allInputSources","run","builtin","g","test","specURL","desc","params","u","combine","fn","t","overloads","scalar","type","cases","input","expected","overload"],"sources":["../../../../../../../src/webgpu/shader/execution/expression/call/builtin/all.spec.ts"],"sourcesContent":["export const description = `\nExecution tests for the 'all' builtin function\n\nS is a bool\nT is S or vecN<S>\n@const fn all(e: T) -> bool\nReturns e if e is scalar.\nReturns true if each component of e is true if e is a vector.\n`;\n\nimport { makeTestGroup } from '../../../../../../common/framework/test_group.js';\nimport { GPUTest } from '../../../../../gpu_test.js';\nimport {\n  False,\n  True,\n  TypeBool,\n  TypeVec,\n  vec2,\n  vec3,\n  vec4,\n} from '../../../../../util/conversion.js';\nimport { allInputSources, run } from '../../expression.js';\n\nimport { builtin } from './builtin.js';\n\nexport const g = makeTestGroup(GPUTest);\n\ng.test('bool')\n  .specURL('https://www.w3.org/TR/WGSL/#logical-builtin-functions')\n  .desc(`bool tests`)\n  .params(u =>\n    u\n      .combine('inputSource', allInputSources)\n      .combine('overload', ['scalar', 'vec2', 'vec3', 'vec4'] as const)\n  )\n  .fn(async t => {\n    const overloads = {\n      scalar: {\n        type: TypeBool,\n        cases: [\n          { input: False, expected: False },\n          { input: True, expected: True },\n        ],\n      },\n      vec2: {\n        type: TypeVec(2, TypeBool),\n        cases: [\n          { input: vec2(False, False), expected: False },\n          { input: vec2(True, False), expected: False },\n          { input: vec2(False, True), expected: False },\n          { input: vec2(True, True), expected: True },\n        ],\n      },\n      vec3: {\n        type: TypeVec(3, TypeBool),\n        cases: [\n          { input: vec3(False, False, False), expected: False },\n          { input: vec3(True, False, False), expected: False },\n          { input: vec3(False, True, False), expected: False },\n          { input: vec3(True, True, False), expected: False },\n          { input: vec3(False, False, True), expected: False },\n          { input: vec3(True, False, True), expected: False },\n          { input: vec3(False, True, True), expected: False },\n          { input: vec3(True, True, True), expected: True },\n        ],\n      },\n      vec4: {\n        type: TypeVec(4, TypeBool),\n        cases: [\n          { input: vec4(False, False, False, False), expected: False },\n          { input: vec4(False, True, False, False), expected: False },\n          { input: vec4(False, False, True, False), expected: False },\n          { input: vec4(False, True, True, False), expected: False },\n          { input: vec4(False, False, False, True), expected: False },\n          { input: vec4(False, True, False, True), expected: False },\n          { input: vec4(False, False, True, True), expected: False },\n          { input: vec4(False, True, True, True), expected: False },\n          { input: vec4(True, False, False, False), expected: False },\n          { input: vec4(True, False, False, True), expected: False },\n          { input: vec4(True, False, True, False), expected: False },\n          { input: vec4(True, False, True, True), expected: False },\n          { input: vec4(True, True, False, False), expected: False },\n          { input: vec4(True, True, False, True), expected: False },\n          { input: vec4(True, True, True, False), expected: False },\n          { input: vec4(True, True, True, True), expected: True },\n        ],\n      },\n    };\n    const overload = overloads[t.params.overload];\n\n    await run(t, builtin('all'), [overload.type], TypeBool, t.params, overload.cases);\n  });\n"],"mappings":"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"}