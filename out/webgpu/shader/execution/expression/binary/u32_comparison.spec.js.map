{"version":3,"file":"u32_comparison.spec.js","names":["description","makeTestGroup","GPUTest","u32","bool","TypeBool","TypeU32","vectorU32Range","makeCaseCache","allInputSources","run","binary","g","makeCase","lhs","rhs","expected_answer","input","expected","d","equals","map","v","not_equals","less_than","less_equal","greater_than","greater_equal","test","specURL","desc","params","u","combine","undefined","fn","t","cases","get"],"sources":["../../../../../../src/webgpu/shader/execution/expression/binary/u32_comparison.spec.ts"],"sourcesContent":["export const description = `\nExecution Tests for the u32 comparison expressions\n`;\n\nimport { makeTestGroup } from '../../../../../common/framework/test_group.js';\nimport { GPUTest } from '../../../../gpu_test.js';\nimport { u32, bool, TypeBool, TypeU32 } from '../../../../util/conversion.js';\nimport { vectorU32Range } from '../../../../util/math.js';\nimport { makeCaseCache } from '../case_cache.js';\nimport { allInputSources, Case, run } from '../expression.js';\n\nimport { binary } from './binary.js';\n\nexport const g = makeTestGroup(GPUTest);\n\n/**\n * @returns a test case for the provided left hand & right hand values and\n * expected boolean result.\n */\nfunction makeCase(lhs: number, rhs: number, expected_answer: boolean): Case {\n  return { input: [u32(lhs), u32(rhs)], expected: bool(expected_answer) };\n}\n\nexport const d = makeCaseCache('binary/u32_comparison', {\n  equals: () => vectorU32Range(2).map(v => makeCase(v[0], v[1], v[0] === v[1])),\n  not_equals: () => vectorU32Range(2).map(v => makeCase(v[0], v[1], v[0] !== v[1])),\n  less_than: () => vectorU32Range(2).map(v => makeCase(v[0], v[1], v[0] < v[1])),\n  less_equal: () => vectorU32Range(2).map(v => makeCase(v[0], v[1], v[0] <= v[1])),\n  greater_than: () => vectorU32Range(2).map(v => makeCase(v[0], v[1], v[0] > v[1])),\n  greater_equal: () => vectorU32Range(2).map(v => makeCase(v[0], v[1], v[0] >= v[1])),\n});\n\ng.test('equals')\n  .specURL('https://www.w3.org/TR/WGSL/#comparison-expr')\n  .desc(\n    `\nExpression: x == y\n`\n  )\n  .params(u =>\n    u.combine('inputSource', allInputSources).combine('vectorize', [undefined, 2, 3, 4] as const)\n  )\n  .fn(async t => {\n    const cases = await d.get('equals');\n    await run(t, binary('=='), [TypeU32, TypeU32], TypeBool, t.params, cases);\n  });\n\ng.test('not_equals')\n  .specURL('https://www.w3.org/TR/WGSL/#comparison-expr')\n  .desc(\n    `\nExpression: x != y\n`\n  )\n  .params(u =>\n    u.combine('inputSource', allInputSources).combine('vectorize', [undefined, 2, 3, 4] as const)\n  )\n  .fn(async t => {\n    const cases = await d.get('not_equals');\n    await run(t, binary('!='), [TypeU32, TypeU32], TypeBool, t.params, cases);\n  });\n\ng.test('less_than')\n  .specURL('https://www.w3.org/TR/WGSL/#comparison-expr')\n  .desc(\n    `\nExpression: x < y\n`\n  )\n  .params(u =>\n    u.combine('inputSource', allInputSources).combine('vectorize', [undefined, 2, 3, 4] as const)\n  )\n  .fn(async t => {\n    const cases = await d.get('less_than');\n    await run(t, binary('<'), [TypeU32, TypeU32], TypeBool, t.params, cases);\n  });\n\ng.test('less_equals')\n  .specURL('https://www.w3.org/TR/WGSL/#comparison-expr')\n  .desc(\n    `\nExpression: x <= y\n`\n  )\n  .params(u =>\n    u.combine('inputSource', allInputSources).combine('vectorize', [undefined, 2, 3, 4] as const)\n  )\n  .fn(async t => {\n    const cases = await d.get('less_equal');\n    await run(t, binary('<='), [TypeU32, TypeU32], TypeBool, t.params, cases);\n  });\n\ng.test('greater_than')\n  .specURL('https://www.w3.org/TR/WGSL/#comparison-expr')\n  .desc(\n    `\nExpression: x > y\n`\n  )\n  .params(u =>\n    u.combine('inputSource', allInputSources).combine('vectorize', [undefined, 2, 3, 4] as const)\n  )\n  .fn(async t => {\n    const cases = await d.get('greater_than');\n    await run(t, binary('>'), [TypeU32, TypeU32], TypeBool, t.params, cases);\n  });\n\ng.test('greater_equals')\n  .specURL('https://www.w3.org/TR/WGSL/#comparison-expr')\n  .desc(\n    `\nExpression: x >= y\n`\n  )\n  .params(u =>\n    u.combine('inputSource', allInputSources).combine('vectorize', [undefined, 2, 3, 4] as const)\n  )\n  .fn(async t => {\n    const cases = await d.get('greater_equal');\n    await run(t, binary('>='), [TypeU32, TypeU32], TypeBool, t.params, cases);\n  });\n"],"mappings":"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"}