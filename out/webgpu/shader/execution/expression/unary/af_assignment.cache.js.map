{"version":3,"file":"af_assignment.cache.js","names":["kValue","abstractFloat","FP","isSubnormalNumberF64","limitedScalarF64Range","scalarF64Range","reinterpretU64AsF64","makeCaseCache","d","abstract","inputs","map","f","input","expected","f32","negative","min","positive","max","correctlyRoundedInterval","f16"],"sources":["../../../../../../src/webgpu/shader/execution/expression/unary/af_assignment.cache.ts"],"sourcesContent":["import { kValue } from '../../../../util/constants.js';\nimport { abstractFloat } from '../../../../util/conversion.js';\nimport { FP } from '../../../../util/floating_point.js';\nimport {\n  isSubnormalNumberF64,\n  limitedScalarF64Range,\n  scalarF64Range,\n} from '../../../../util/math.js';\nimport { reinterpretU64AsF64 } from '../../../../util/reinterpret.js';\nimport { makeCaseCache } from '../case_cache.js';\n\nexport const d = makeCaseCache('unary/af_assignment', {\n  abstract: () => {\n    const inputs = [\n      // Values that are useful for debugging the underlying framework/shader code, since it cannot be directly unit tested.\n      0,\n      0.5,\n      0.5,\n      1,\n      -1,\n      reinterpretU64AsF64(0x7000_0000_0000_0001n), // smallest magnitude negative subnormal with non-zero mantissa\n      reinterpretU64AsF64(0x0000_0000_0000_0001n), // smallest magnitude positive subnormal with non-zero mantissa\n      reinterpretU64AsF64(0x600a_aaaa_5555_5555n), // negative subnormal with obvious pattern\n      reinterpretU64AsF64(0x000a_aaaa_5555_5555n), // positive subnormal with obvious pattern\n      reinterpretU64AsF64(0x0010_0000_0000_0001n), // smallest magnitude negative normal with non-zero mantissa\n      reinterpretU64AsF64(0x0010_0000_0000_0001n), // smallest magnitude positive normal with non-zero mantissa\n      reinterpretU64AsF64(0xf555_5555_aaaa_aaaan), // negative normal with obvious pattern\n      reinterpretU64AsF64(0x5555_5555_aaaa_aaaan), // positive normal with obvious pattern\n      reinterpretU64AsF64(0xffef_ffff_ffff_ffffn), // largest magnitude negative normal\n      reinterpretU64AsF64(0x7fef_ffff_ffff_ffffn), // largest magnitude positive normal\n      // WebGPU implementation stressing values\n      ...scalarF64Range(),\n    ];\n    return inputs.map(f => {\n      return {\n        input: abstractFloat(f),\n        expected: isSubnormalNumberF64(f) ? abstractFloat(0) : abstractFloat(f),\n      };\n    });\n  },\n  f32: () => {\n    return limitedScalarF64Range(kValue.f32.negative.min, kValue.f32.positive.max).map(f => {\n      return { input: abstractFloat(f), expected: FP.f32.correctlyRoundedInterval(f) };\n    });\n  },\n  f16: () => {\n    return limitedScalarF64Range(kValue.f16.negative.min, kValue.f16.positive.max).map(f => {\n      return { input: abstractFloat(f), expected: FP.f16.correctlyRoundedInterval(f) };\n    });\n  },\n});\n"],"mappings":";;GAAA,SAASA,MAAM,QAAQ,+BAA+B,CACtD,SAASC,aAAa,QAAQ,gCAAgC,CAC9D,SAASC,EAAE,QAAQ,oCAAoC;AACvD;EACEC,oBAAoB;EACpBC,qBAAqB;EACrBC,cAAc;AACT,0BAA0B;AACjC,SAASC,mBAAmB,QAAQ,iCAAiC;AACrE,SAASC,aAAa,QAAQ,kBAAkB;;AAEhD,OAAO,MAAMC,CAAC,GAAGD,aAAa,CAAC,qBAAqB,EAAE;EACpDE,QAAQ,EAAEA,CAAA,KAAM;IACd,MAAMC,MAAM,GAAG;IACb;IACA,CAAC;IACD,GAAG;IACH,GAAG;IACH,CAAC;IACD,CAAC,CAAC;IACFJ,mBAAmB,CAAC,sBAAsB,CAAC,EAAE;IAC7CA,mBAAmB,CAAC,sBAAsB,CAAC,EAAE;IAC7CA,mBAAmB,CAAC,sBAAsB,CAAC,EAAE;IAC7CA,mBAAmB,CAAC,sBAAsB,CAAC,EAAE;IAC7CA,mBAAmB,CAAC,sBAAsB,CAAC,EAAE;IAC7CA,mBAAmB,CAAC,sBAAsB,CAAC,EAAE;IAC7CA,mBAAmB,CAAC,sBAAsB,CAAC,EAAE;IAC7CA,mBAAmB,CAAC,sBAAsB,CAAC,EAAE;IAC7CA,mBAAmB,CAAC,sBAAsB,CAAC,EAAE;IAC7CA,mBAAmB,CAAC,sBAAsB,CAAC,EAAE;IAC7C;IACA,GAAGD,cAAc,CAAC,CAAC,CACpB;;IACD,OAAOK,MAAM,CAACC,GAAG,CAAC,CAAAC,CAAC,KAAI;MACrB,OAAO;QACLC,KAAK,EAAEZ,aAAa,CAACW,CAAC,CAAC;QACvBE,QAAQ,EAAEX,oBAAoB,CAACS,CAAC,CAAC,GAAGX,aAAa,CAAC,CAAC,CAAC,GAAGA,aAAa,CAACW,CAAC;MACxE,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EACDG,GAAG,EAAEA,CAAA,KAAM;IACT,OAAOX,qBAAqB,CAACJ,MAAM,CAACe,GAAG,CAACC,QAAQ,CAACC,GAAG,EAAEjB,MAAM,CAACe,GAAG,CAACG,QAAQ,CAACC,GAAG,CAAC,CAACR,GAAG,CAAC,CAAAC,CAAC,KAAI;MACtF,OAAO,EAAEC,KAAK,EAAEZ,aAAa,CAACW,CAAC,CAAC,EAAEE,QAAQ,EAAEZ,EAAE,CAACa,GAAG,CAACK,wBAAwB,CAACR,CAAC,CAAC,CAAC,CAAC;IAClF,CAAC,CAAC;EACJ,CAAC;EACDS,GAAG,EAAEA,CAAA,KAAM;IACT,OAAOjB,qBAAqB,CAACJ,MAAM,CAACqB,GAAG,CAACL,QAAQ,CAACC,GAAG,EAAEjB,MAAM,CAACqB,GAAG,CAACH,QAAQ,CAACC,GAAG,CAAC,CAACR,GAAG,CAAC,CAAAC,CAAC,KAAI;MACtF,OAAO,EAAEC,KAAK,EAAEZ,aAAa,CAACW,CAAC,CAAC,EAAEE,QAAQ,EAAEZ,EAAE,CAACmB,GAAG,CAACD,wBAAwB,CAACR,CAAC,CAAC,CAAC,CAAC;IAClF,CAAC,CAAC;EACJ;AACF,CAAC,CAAC"}