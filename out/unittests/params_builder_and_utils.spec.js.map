{"version":3,"file":"params_builder_and_utils.spec.js","names":["description","kUnitCaseParamsBuilder","builderIterateCasesWithSubcases","makeTestGroup","mergeParams","mergeParamsChecked","publicParamsEquals","assert","objectEquals","UnitTest","ParamsTest","expectParams","act","exp","caseFilter","a","Array","from","map","caseP","subcases","undefined","e","expect","JSON","stringify","g","u","test","fn","t","combine","hello","beginSubcases","combineWithParams","x","y","p","q","filter","unless","expandWithParams","w","z","expand","shouldThrow","iterateCasesWithSubcases","cases","subcaseP","_a"],"sources":["../../src/unittests/params_builder_and_utils.spec.ts"],"sourcesContent":["export const description = `\nUnit tests for parameterization helpers.\n`;\n\nimport { TestParams } from '../common/framework/fixture.js';\nimport {\n  kUnitCaseParamsBuilder,\n  CaseSubcaseIterable,\n  ParamsBuilderBase,\n  builderIterateCasesWithSubcases,\n} from '../common/framework/params_builder.js';\nimport { makeTestGroup } from '../common/framework/test_group.js';\nimport {\n  mergeParams,\n  mergeParamsChecked,\n  publicParamsEquals,\n} from '../common/internal/params_utils.js';\nimport { assert, objectEquals } from '../common/util/util.js';\n\nimport { UnitTest } from './unit_test.js';\n\nclass ParamsTest extends UnitTest {\n  expectParams<CaseP extends {}, SubcaseP extends {}>(\n    act: ParamsBuilderBase<CaseP, SubcaseP>,\n    exp: CaseSubcaseIterable<{}, {}>,\n    caseFilter: TestParams | null = null\n  ): void {\n    const a = Array.from(builderIterateCasesWithSubcases(act, caseFilter)).map(\n      ([caseP, subcases]) => [caseP, subcases ? Array.from(subcases) : undefined]\n    );\n    const e = Array.from(exp);\n    this.expect(\n      objectEquals(a, e),\n      `\ngot      ${JSON.stringify(a)}\nexpected ${JSON.stringify(e)}`\n    );\n  }\n}\n\nexport const g = makeTestGroup(ParamsTest);\n\nconst u = kUnitCaseParamsBuilder;\n\ng.test('combine').fn(t => {\n  t.expectParams<{ hello: number }, {}>(u.combine('hello', [1, 2, 3]), [\n    [{ hello: 1 }, undefined],\n    [{ hello: 2 }, undefined],\n    [{ hello: 3 }, undefined],\n  ]);\n  t.expectParams<{ hello: number }, {}>(\n    u.combine('hello', [1, 2, 3]),\n    [\n      [{ hello: 1 }, undefined],\n      [{ hello: 2 }, undefined],\n      [{ hello: 3 }, undefined],\n    ],\n    {}\n  );\n  t.expectParams<{ hello: number }, {}>(\n    u.combine('hello', [1, 2, 3]),\n    [[{ hello: 2 }, undefined]],\n    { hello: 2 }\n  );\n  t.expectParams<{ hello: 1 | 2 | 3 }, {}>(u.combine('hello', [1, 2, 3] as const), [\n    [{ hello: 1 }, undefined],\n    [{ hello: 2 }, undefined],\n    [{ hello: 3 }, undefined],\n  ]);\n  t.expectParams<{}, { hello: number }>(u.beginSubcases().combine('hello', [1, 2, 3]), [\n    [{}, [{ hello: 1 }, { hello: 2 }, { hello: 3 }]],\n  ]);\n  t.expectParams<{}, { hello: number }>(\n    u.beginSubcases().combine('hello', [1, 2, 3]),\n    [[{}, [{ hello: 1 }, { hello: 2 }, { hello: 3 }]]],\n    {}\n  );\n  t.expectParams<{}, { hello: number }>(u.beginSubcases().combine('hello', [1, 2, 3]), [], {\n    hello: 2,\n  });\n  t.expectParams<{}, { hello: 1 | 2 | 3 }>(u.beginSubcases().combine('hello', [1, 2, 3] as const), [\n    [{}, [{ hello: 1 }, { hello: 2 }, { hello: 3 }]],\n  ]);\n});\n\ng.test('empty').fn(t => {\n  t.expectParams<{}, {}>(u, [\n    [{}, undefined], //\n  ]);\n  t.expectParams<{}, {}>(u.beginSubcases(), [\n    [{}, [{}]], //\n  ]);\n});\n\ng.test('combine,zeroes_and_ones').fn(t => {\n  t.expectParams<{}, {}>(u.combineWithParams([]).combineWithParams([]), []);\n  t.expectParams<{}, {}>(u.combineWithParams([]).combineWithParams([{}]), []);\n  t.expectParams<{}, {}>(u.combineWithParams([{}]).combineWithParams([]), []);\n  t.expectParams<{}, {}>(u.combineWithParams([{}]).combineWithParams([{}]), [\n    [{}, undefined], //\n  ]);\n\n  t.expectParams<{}, {}>(u.combine('x', []).combine('y', []), []);\n  t.expectParams<{}, {}>(u.combine('x', []).combine('y', [1]), []);\n  t.expectParams<{}, {}>(u.combine('x', [1]).combine('y', []), []);\n  t.expectParams<{}, {}>(u.combine('x', [1]).combine('y', [1]), [\n    [{ x: 1, y: 1 }, undefined], //\n  ]);\n});\n\ng.test('combine,mixed').fn(t => {\n  t.expectParams<{ x: number; y: string; p: number | undefined; q: number | undefined }, {}>(\n    u\n      .combine('x', [1, 2])\n      .combine('y', ['a', 'b'])\n      .combineWithParams([{ p: 4 }, { q: 5 }])\n      .combineWithParams([{}]),\n    [\n      [{ x: 1, y: 'a', p: 4 }, undefined],\n      [{ x: 1, y: 'a', q: 5 }, undefined],\n      [{ x: 1, y: 'b', p: 4 }, undefined],\n      [{ x: 1, y: 'b', q: 5 }, undefined],\n      [{ x: 2, y: 'a', p: 4 }, undefined],\n      [{ x: 2, y: 'a', q: 5 }, undefined],\n      [{ x: 2, y: 'b', p: 4 }, undefined],\n      [{ x: 2, y: 'b', q: 5 }, undefined],\n    ]\n  );\n});\n\ng.test('filter').fn(t => {\n  t.expectParams<{ a: boolean; x: number | undefined; y: number | undefined }, {}>(\n    u\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, y: 2 },\n      ])\n      .filter(p => p.a),\n    [\n      [{ a: true, x: 1 }, undefined], //\n    ]\n  );\n\n  t.expectParams<{ a: boolean; x: number | undefined; y: number | undefined }, {}>(\n    u\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, y: 2 },\n      ])\n      .beginSubcases()\n      .filter(p => p.a),\n    [\n      [{ a: true, x: 1 }, [{}]], //\n      // Case with no subcases is filtered out.\n    ]\n  );\n\n  t.expectParams<{}, { a: boolean; x: number | undefined; y: number | undefined }>(\n    u\n      .beginSubcases()\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, y: 2 },\n      ])\n      .filter(p => p.a),\n    [\n      [{}, [{ a: true, x: 1 }]], //\n    ]\n  );\n});\n\ng.test('unless').fn(t => {\n  t.expectParams<{ a: boolean; x: number | undefined; y: number | undefined }, {}>(\n    u\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, y: 2 },\n      ])\n      .unless(p => p.a),\n    [\n      [{ a: false, y: 2 }, undefined], //\n    ]\n  );\n\n  t.expectParams<{ a: boolean; x: number | undefined; y: number | undefined }, {}>(\n    u\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, y: 2 },\n      ])\n      .beginSubcases()\n      .unless(p => p.a),\n    [\n      // Case with no subcases is filtered out.\n      [{ a: false, y: 2 }, [{}]], //\n    ]\n  );\n\n  t.expectParams<{}, { a: boolean; x: number | undefined; y: number | undefined }>(\n    u\n      .beginSubcases()\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, y: 2 },\n      ])\n      .unless(p => p.a),\n    [\n      [{}, [{ a: false, y: 2 }]], //\n    ]\n  );\n});\n\ng.test('expandP').fn(t => {\n  // simple\n  t.expectParams<{}, {}>(\n    u.expandWithParams(function* () {}),\n    []\n  );\n  t.expectParams<{}, {}>(\n    u.expandWithParams(function* () {\n      yield {};\n    }),\n    [[{}, undefined]]\n  );\n  t.expectParams<{ z: number | undefined; w: number | undefined }, {}>(\n    u.expandWithParams(function* () {\n      yield* kUnitCaseParamsBuilder.combine('z', [3, 4]);\n      yield { w: 5 };\n    }),\n    [\n      [{ z: 3 }, undefined],\n      [{ z: 4 }, undefined],\n      [{ w: 5 }, undefined],\n    ]\n  );\n  t.expectParams<{ z: number | undefined; w: number | undefined }, {}>(\n    u.expandWithParams(function* () {\n      yield* kUnitCaseParamsBuilder.combine('z', [3, 4]);\n      yield { w: 5 };\n    }),\n    [\n      [{ z: 3 }, undefined],\n      [{ z: 4 }, undefined],\n      [{ w: 5 }, undefined],\n    ],\n    {}\n  );\n  t.expectParams<{ z: number | undefined; w: number | undefined }, {}>(\n    u.expandWithParams(function* () {\n      yield* kUnitCaseParamsBuilder.combine('z', [3, 4]);\n      yield { w: 5 };\n    }),\n    [[{ z: 4 }, undefined]],\n    { z: 4 }\n  );\n  t.expectParams<{ z: number | undefined; w: number | undefined }, {}>(\n    u.expandWithParams(function* () {\n      yield* kUnitCaseParamsBuilder.combine('z', [3, 4]);\n      yield { w: 5 };\n    }),\n    [[{ z: 3 }, undefined]],\n    { z: 3 }\n  );\n  t.expectParams<{}, { z: number | undefined; w: number | undefined }>(\n    u.beginSubcases().expandWithParams(function* () {\n      yield* kUnitCaseParamsBuilder.combine('z', [3, 4]);\n      yield { w: 5 };\n    }),\n    [[{}, [{ z: 3 }, { z: 4 }, { w: 5 }]]]\n  );\n\n  t.expectParams<{ x: [] | {} }, {}>(\n    u.expand('x', () => [[], {}] as const),\n    [\n      [{ x: [] }, undefined],\n      [{ x: {} }, undefined],\n    ]\n  );\n  t.expectParams<{ x: [] | {} }, {}>(\n    u.expand('x', () => [[], {}] as const),\n    [[{ x: [] }, undefined]],\n    { x: [] }\n  );\n  t.expectParams<{ x: [] | {} }, {}>(\n    u.expand('x', () => [[], {}] as const),\n    [[{ x: {} }, undefined]],\n    { x: {} }\n  );\n\n  // more complex\n  {\n    const p = u\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, y: 2 },\n      ])\n      .expandWithParams(function* (p) {\n        if (p.a) {\n          yield { z: 3 };\n          yield { z: 4 };\n        } else {\n          yield { w: 5 };\n        }\n      });\n    type T = {\n      a: boolean;\n      x: number | undefined;\n      y: number | undefined;\n      z: number | undefined;\n      w: number | undefined;\n    };\n    t.expectParams<T, {}>(p, [\n      [{ a: true, x: 1, z: 3 }, undefined],\n      [{ a: true, x: 1, z: 4 }, undefined],\n      [{ a: false, y: 2, w: 5 }, undefined],\n    ]);\n    t.expectParams<T, {}>(\n      p,\n      [\n        [{ a: true, x: 1, z: 3 }, undefined],\n        [{ a: true, x: 1, z: 4 }, undefined],\n        [{ a: false, y: 2, w: 5 }, undefined],\n      ],\n      {}\n    );\n    t.expectParams<T, {}>(\n      p,\n      [\n        [{ a: true, x: 1, z: 3 }, undefined],\n        [{ a: true, x: 1, z: 4 }, undefined],\n      ],\n      { a: true }\n    );\n    t.expectParams<T, {}>(p, [[{ a: false, y: 2, w: 5 }, undefined]], { a: false });\n  }\n\n  t.expectParams<\n    { a: boolean; x: number | undefined; y: number | undefined },\n    { z: number | undefined; w: number | undefined }\n  >(\n    u\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, y: 2 },\n      ])\n      .beginSubcases()\n      .expandWithParams(function* (p) {\n        if (p.a) {\n          yield { z: 3 };\n          yield { z: 4 };\n        } else {\n          yield { w: 5 };\n        }\n      }),\n    [\n      [{ a: true, x: 1 }, [{ z: 3 }, { z: 4 }]],\n      [{ a: false, y: 2 }, [{ w: 5 }]],\n    ]\n  );\n});\n\ng.test('expand').fn(t => {\n  // simple\n  t.expectParams<{}, {}>(\n    u.expand('x', function* () {}),\n    []\n  );\n  t.expectParams<{ z: number }, {}>(\n    u.expand('z', function* () {\n      yield 3;\n      yield 4;\n    }),\n    [\n      [{ z: 3 }, undefined],\n      [{ z: 4 }, undefined],\n    ]\n  );\n  t.expectParams<{ z: number }, {}>(\n    u.expand('z', function* () {\n      yield 3;\n      yield 4;\n    }),\n    [\n      [{ z: 3 }, undefined],\n      [{ z: 4 }, undefined],\n    ],\n    {}\n  );\n  t.expectParams<{ z: number }, {}>(\n    u.expand('z', function* () {\n      yield 3;\n      yield 4;\n    }),\n    [[{ z: 3 }, undefined]],\n    { z: 3 }\n  );\n  t.expectParams<{}, { z: number }>(\n    u.beginSubcases().expand('z', function* () {\n      yield 3;\n      yield 4;\n    }),\n    [[{}, [{ z: 3 }, { z: 4 }]]]\n  );\n\n  // more complex\n  t.expectParams<{ a: boolean; x: number | undefined; y: number | undefined; z: number }, {}>(\n    u\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, y: 2 },\n      ])\n      .expand('z', function* (p) {\n        if (p.a) {\n          yield 3;\n        } else {\n          yield 5;\n        }\n      }),\n    [\n      [{ a: true, x: 1, z: 3 }, undefined],\n      [{ a: false, y: 2, z: 5 }, undefined],\n    ]\n  );\n  t.expectParams<{ a: boolean; x: number | undefined; y: number | undefined }, { z: number }>(\n    u\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, y: 2 },\n      ])\n      .beginSubcases()\n      .expand('z', function* (p) {\n        if (p.a) {\n          yield 3;\n        } else {\n          yield 5;\n        }\n      }),\n    [\n      [{ a: true, x: 1 }, [{ z: 3 }]],\n      [{ a: false, y: 2 }, [{ z: 5 }]],\n    ]\n  );\n});\n\ng.test('invalid,shadowing').fn(t => {\n  // Existing CaseP is shadowed by a new CaseP.\n  {\n    const p = u\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, x: 2 },\n      ])\n      .expandWithParams(function* (p) {\n        if (p.a) {\n          yield { x: 3 };\n        } else {\n          yield { w: 5 };\n        }\n      });\n    // Iterating causes merging e.g. ({x:1}, {x:3}), which fails.\n    t.shouldThrow('Error', () => {\n      Array.from(p.iterateCasesWithSubcases(null));\n    });\n  }\n  // Existing SubcaseP is shadowed by a new SubcaseP.\n  {\n    const p = u\n      .beginSubcases()\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, x: 2 },\n      ])\n      .expandWithParams(function* (p) {\n        if (p.a) {\n          yield { x: 3 };\n        } else {\n          yield { w: 5 };\n        }\n      });\n    // Iterating causes merging e.g. ({x:1}, {x:3}), which fails.\n    t.shouldThrow('Error', () => {\n      Array.from(p.iterateCasesWithSubcases(null));\n    });\n  }\n  // Existing CaseP is shadowed by a new SubcaseP.\n  {\n    const p = u\n      .combineWithParams([\n        { a: true, x: 1 },\n        { a: false, x: 2 },\n      ])\n      .beginSubcases()\n      .expandWithParams(function* (p) {\n        if (p.a) {\n          yield { x: 3 };\n        } else {\n          yield { w: 5 };\n        }\n      });\n    const cases = Array.from(p.iterateCasesWithSubcases(null));\n    // Iterating cases is fine...\n    for (const [caseP, subcases] of cases) {\n      assert(subcases !== undefined);\n      // Iterating subcases is fine...\n      for (const subcaseP of subcases) {\n        if (caseP.a) {\n          assert(subcases !== undefined);\n\n          // Only errors once we try to merge e.g. ({x:1}, {x:3}).\n          mergeParams(caseP, subcaseP);\n          t.shouldThrow('Error', () => {\n            mergeParamsChecked(caseP, subcaseP);\n          });\n        }\n      }\n    }\n  }\n});\n\ng.test('undefined').fn(t => {\n  t.expect(!publicParamsEquals({ a: undefined }, {}));\n  t.expect(!publicParamsEquals({}, { a: undefined }));\n});\n\ng.test('private').fn(t => {\n  t.expect(publicParamsEquals({ _a: 0 }, {}));\n  t.expect(publicParamsEquals({}, { _a: 0 }));\n});\n\ng.test('value,array').fn(t => {\n  t.expectParams<{ a: number[] }, {}>(u.combineWithParams([{ a: [1, 2] }]), [\n    [{ a: [1, 2] }, undefined], //\n  ]);\n  t.expectParams<{}, { a: number[] }>(u.beginSubcases().combineWithParams([{ a: [1, 2] }]), [\n    [{}, [{ a: [1, 2] }]], //\n  ]);\n});\n\ng.test('value,object').fn(t => {\n  t.expectParams<{ a: { [k: string]: number } }, {}>(u.combineWithParams([{ a: { x: 1 } }]), [\n    [{ a: { x: 1 } }, undefined], //\n  ]);\n  t.expectParams<{}, { a: { [k: string]: number } }>(\n    u.beginSubcases().combineWithParams([{ a: { x: 1 } }]),\n    [\n      [{}, [{ a: { x: 1 } }]], //\n    ]\n  );\n});\n"],"mappings":"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"}