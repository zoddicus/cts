{"version":3,"file":"validate.js","names":["process","crawl","usage","rc","console","error","exit","args","argv","slice","indexOf","length","suiteDir"],"sources":["../../../src/common/tools/validate.ts"],"sourcesContent":["import * as process from 'process';\n\nimport { crawl } from './crawl.js';\n\nfunction usage(rc: number): void {\n  console.error(`Usage: tools/validate [options] [SUITE_DIRS...]\n\nFor each suite in SUITE_DIRS, validate some properties about the file:\n- It has a .description and .g\n- That each test:\n  - Has a test function (or is marked unimplemented)\n  - Has no duplicate cases\n  - Configures batching correctly, if used\n- That each case query is not too long\n\nExample:\n  tools/validate src/unittests/ src/webgpu/\n\nOptions:\n  --help          Print this message and exit.\n`);\n  process.exit(rc);\n}\n\nconst args = process.argv.slice(2);\nif (args.indexOf('--help') !== -1) {\n  usage(0);\n}\n\nif (args.length < 1) {\n  usage(0);\n}\n\nfor (const suiteDir of args) {\n  void crawl(suiteDir, true);\n}\n"],"mappings":";;GAAA,OAAO,KAAKA,OAAO,MAAM,SAAS,CAElC,SAASC,KAAK,QAAQ,YAAY;;AAElC,SAASC,KAAKA,CAACC,EAAU,EAAQ;EAC/BC,OAAO,CAACC,KAAK,CAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC;EACAL,OAAO,CAACM,IAAI,CAACH,EAAE,CAAC;AAClB;;AAEA,MAAMI,IAAI,GAAGP,OAAO,CAACQ,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC;AAClC,IAAIF,IAAI,CAACG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;EACjCR,KAAK,CAAC,CAAC,CAAC;AACV;;AAEA,IAAIK,IAAI,CAACI,MAAM,GAAG,CAAC,EAAE;EACnBT,KAAK,CAAC,CAAC,CAAC;AACV;;AAEA,KAAK,MAAMU,QAAQ,IAAIL,IAAI,EAAE;EAC3B,KAAKN,KAAK,CAACW,QAAQ,EAAE,IAAI,CAAC;AAC5B"}