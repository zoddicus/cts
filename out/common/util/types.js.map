{"version":3,"file":"types.js","names":["assertTypeTrue"],"sources":["../../../src/common/util/types.ts"],"sourcesContent":["/** Forces a type to resolve its type definitions, to make it readable/debuggable. */\nexport type ResolveType<T> = T extends object\n  ? T extends infer O\n    ? { [K in keyof O]: ResolveType<O[K]> }\n    : never\n  : T;\n\n/** Returns the type `true` iff X and Y are exactly equal */\nexport type TypeEqual<X, Y> = (<T>() => T extends X ? 1 : 2) extends <T>() => T extends Y ? 1 : 2\n  ? true\n  : false;\n\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\nexport function assertTypeTrue<_ extends true>() {}\n\n/** `ReadonlyArray` of `ReadonlyArray`s. */\nexport type ROArrayArray<T> = ReadonlyArray<ReadonlyArray<T>>;\n/** `ReadonlyArray` of `ReadonlyArray`s of `ReadonlyArray`s. */\nexport type ROArrayArrayArray<T> = ReadonlyArray<ReadonlyArray<ReadonlyArray<T>>>;\n\n/**\n * Deep version of the Readonly<> type, with support for tuples (up to length 7).\n * <https://gist.github.com/masterkidan/7322752f569b1bba53e0426266768623>\n */\nexport type DeepReadonly<T> = T extends [infer A]\n  ? DeepReadonlyObject<[A]>\n  : T extends [infer A, infer B]\n  ? DeepReadonlyObject<[A, B]>\n  : T extends [infer A, infer B, infer C]\n  ? DeepReadonlyObject<[A, B, C]>\n  : T extends [infer A, infer B, infer C, infer D]\n  ? DeepReadonlyObject<[A, B, C, D]>\n  : T extends [infer A, infer B, infer C, infer D, infer E]\n  ? DeepReadonlyObject<[A, B, C, D, E]>\n  : T extends [infer A, infer B, infer C, infer D, infer E, infer F]\n  ? DeepReadonlyObject<[A, B, C, D, E, F]>\n  : T extends [infer A, infer B, infer C, infer D, infer E, infer F, infer G]\n  ? DeepReadonlyObject<[A, B, C, D, E, F, G]>\n  : T extends Map<infer U, infer V>\n  ? ReadonlyMap<DeepReadonlyObject<U>, DeepReadonlyObject<V>>\n  : T extends Set<infer U>\n  ? ReadonlySet<DeepReadonlyObject<U>>\n  : T extends Promise<infer U>\n  ? Promise<DeepReadonlyObject<U>>\n  : T extends Primitive\n  ? T\n  : T extends (infer A)[]\n  ? DeepReadonlyArray<A>\n  : DeepReadonlyObject<T>;\n\ntype Primitive = string | number | boolean | undefined | null | Function | symbol;\ntype DeepReadonlyArray<T> = ReadonlyArray<DeepReadonly<T>>;\ntype DeepReadonlyObject<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> };\n\n/**\n * Computes the intersection of a set of types, given the union of those types.\n *\n * From: https://stackoverflow.com/a/56375136\n */\nexport type UnionToIntersection<U> =\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  (U extends any ? (k: U) => void : never) extends (k: infer I) => void ? I : never;\n\n/** \"Type asserts\" that `X` is a subtype of `Y`. */\ntype EnsureSubtype<X, Y> = X extends Y ? X : never;\n\ntype TupleHeadOr<T, Default> = T extends readonly [infer H, ...(readonly unknown[])] ? H : Default;\ntype TupleTailOr<T, Default> = T extends readonly [unknown, ...infer Tail] ? Tail : Default;\ntype TypeOr<T, Default> = T extends undefined ? Default : T;\n\n/**\n * Zips a key tuple type and a value tuple type together into an object.\n *\n * @template Keys Keys of the resulting object.\n * @template Values Values of the resulting object. If a key corresponds to a `Values` member that\n *   is undefined or past the end, it defaults to the corresponding `Defaults` member.\n * @template Defaults Default values. If a key corresponds to a `Defaults` member that is past the\n *   end, the default falls back to `undefined`.\n */\nexport type ZipKeysWithValues<\n  Keys extends readonly string[],\n  Values extends readonly unknown[],\n  Defaults extends readonly unknown[],\n> =\n  //\n  Keys extends readonly [infer KHead, ...infer KTail]\n    ? {\n        readonly [k in EnsureSubtype<KHead, string>]: TypeOr<\n          TupleHeadOr<Values, undefined>,\n          TupleHeadOr<Defaults, undefined>\n        >;\n      } & ZipKeysWithValues<\n        EnsureSubtype<KTail, readonly string[]>,\n        TupleTailOr<Values, []>,\n        TupleTailOr<Defaults, []>\n      >\n    : {}; // K exhausted\n"],"mappings":";;IAAA;;;;;AAOA;;;;;;AAMA,OAAO,SAASA,cAAcA,CAAA,EAAmB,CAAC;;AAElD;;AAEA;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;;;;;AAKA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAkBU"}